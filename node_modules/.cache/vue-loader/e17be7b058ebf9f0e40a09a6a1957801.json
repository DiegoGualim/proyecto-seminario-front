{"remainingRequest":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/src/components/User/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/src/components/User/Form.vue","mtime":1671906349165},{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/cache-loader/dist/cjs.js","mtime":1672093339547},{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/babel-loader/lib/index.js","mtime":1672093340413},{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/cache-loader/dist/cjs.js","mtime":1672093339547},{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/vue-loader/lib/index.js","mtime":1672093340629}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcXVlc3RIYW5kbGVyIH0gZnJvbSAiQC9oZWxwZXJzL3JlcXVlc3RIYW5kbGVyIjsKaW1wb3J0IHsgcmVxdWVzdE9wdGlvbnMgfSBmcm9tICJAL2hlbHBlcnMvcmVxdWVzdE9wdGlvbnMiOwppbXBvcnQgRXZlbnRCdXMgZnJvbSAiQC9idXMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGb3JtIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHR5cGU6IG51bGwsCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IFsKICAgICAgICB7IHZhbHVlOiBudWxsLCBkaXNhYmxlZDogdHJ1ZSwgdGV4dDogIlNlbGVjY2lvbmUgdW4gdGlwbyBkZSB1c3VhcmlvIiB9LAogICAgICAgIHsgdmFsdWU6ICJhZG1pbiIsIHRleHQ6ICJBZG1pbmlzdHJhZG9yIiB9LAogICAgICAgIHsgdmFsdWU6ICJ1c2VyIiwgdGV4dDogIlVzdWFyaW8iIH0sCiAgICAgIF0sCiAgICAgIHNob3c6IHRydWUsCiAgICAgIGJ1dHRvbkRpc2FibGVkOiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBvblN1Ym1pdChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLmJ1dHRvbkRpc2FibGVkID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtKTsKICAgICAgY29uc3QgcmVjb25zdWx0YXRpb24gPSBhd2FpdCByZXF1ZXN0SGFuZGxlcgogICAgICAgIC5hc3luY19mZXRjaCgKICAgICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQkFDS0VORH0vYXBpL3YxL3VzZXJgLAogICAgICAgICAgcmVxdWVzdE9wdGlvbnMucG9zdCh0aGlzLmZvcm0pCiAgICAgICAgKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KCk7CiAgICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHJlY29uc3VsdGF0aW9uKTsKICAgICAgRXZlbnRCdXMuJGVtaXQoInVwZGF0ZVVzZXJUYWJsZSIpOwogICAgICB0aGlzLmJ1dHRvbkRpc2FibGVkID0gZmFsc2U7CiAgICAgICh0aGlzLmZvcm0udXNlcm5hbWUgPSAiIiksCiAgICAgICAgKHRoaXMuZm9ybS5lbWFpbCA9ICIiKSwKICAgICAgICAodGhpcy5mb3JtLnBhc3N3b3JkID0gIiIpLAogICAgICAgICh0aGlzLmZvcm0udHlwZSA9IG51bGwpLAogICAgICAgIC8vIFRyaWNrIHRvIHJlc2V0L2NsZWFyIG5hdGl2ZSBicm93c2VyIGZvcm0gdmFsaWRhdGlvbiBzdGF0ZQogICAgICAgICh0aGlzLnNob3cgPSBmYWxzZSk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgICB9KTsKICAgICAgLy90aGlzLiRyb3V0ZXIucHVzaCh7bmFtZToidXNlciJ9KTsKICAgIH0sCiAgICBvblJlc2V0KGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIC8vIFJlc2V0IG91ciBmb3JtIHZhbHVlcwogICAgICAodGhpcy5mb3JtLnVzZXJuYW1lID0gIiIpLAogICAgICAgICh0aGlzLmZvcm0uZW1haWwgPSAiIiksCiAgICAgICAgKHRoaXMuZm9ybS5wYXNzd29yZCA9ICIiKSwKICAgICAgICAodGhpcy5mb3JtLnR5cGUgPSBudWxsKSwKICAgICAgICAvLyBUcmljayB0byByZXNldC9jbGVhciBuYXRpdmUgYnJvd3NlciBmb3JtIHZhbGlkYXRpb24gc3RhdGUKICAgICAgICAodGhpcy5zaG93ID0gZmFsc2UpOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd1RvYXN0KCkgewogICAgICAvLyBVc2UgYSBzaG9ydGVyIG5hbWUgZm9yIHRoaXMuJGNyZWF0ZUVsZW1lbnQKICAgICAgY29uc3QgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgIC8vIEluY3JlbWVudCB0aGUgdG9hc3QgY291bnQKICAgICAgLy8gQ3JlYXRlIHRoZSBtZXNzYWdlCiAgICAgIGNvbnN0IHZOb2Rlc01zZyA9IGgoInAiLCB7IGNsYXNzOiBbInRleHQtY2VudGVyIiwgIm1iLTAiXSB9LCBbCiAgICAgICAgaCgic3Ryb25nIiwgIlVzdWFyaW8gUmVnaXN0cmFkbyBjb24gw4l4aXRvIiksCiAgICAgIF0pOwogICAgICAvLyBQYXNzIHRoZSBWTm9kZXMgYXMgYW4gYXJyYXkgZm9yIG1lc3NhZ2UgYW5kIHRpdGxlCiAgICAgIHRoaXMuJGJ2VG9hc3QudG9hc3QoW3ZOb2Rlc01zZ10sIHsKICAgICAgICBzb2xpZDogdHJ1ZSwKICAgICAgICB2YXJpYW50OiAiaW5mbyIsCiAgICAgICAgdG9hc3RlcjogImItdG9hc3Rlci10b3AtcmlnaHQiLAogICAgICAgIG5vQ2xvc2VCdXR0b246IHRydWUsCiAgICAgIH0pOwogICAgfSwKICB9LAp9OwovKioKICogc3R5bGU9ImJhY2tncm91bmQtY29sb3I6IzZFNjY1ODsgcGFkZGluZzozcmVtOyIKICogaHR0cHM6Ly9jb2RlcGVuLmlvL3dmaWd1ZWlyZWRvL3Blbi9CVm16enkKICovCg=="},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Form.vue","sourceRoot":"src/components/User","sourcesContent":["<template>\n  <div class=\"m-3\">\n    <b-form @submit=\"onSubmit\" @reset=\"onReset\" v-if=\"show\">\n      <b-row>\n        <b-col\n          ><b-form-group\n            id=\"input-group-1\"\n            label-align=\"left\"\n            label-align-sm=\"left\"\n            label-align-lg=\"left\"\n            label-align-md=\"left\"\n            label-align-xl=\"left\"\n            label=\"Usuario\"\n            label-for=\"input-1\"\n          >\n            <b-form-input\n              id=\"input-1\"\n              v-model=\"form.username\"\n              placeholder=\"\"\n              required\n            ></b-form-input> </b-form-group\n        ></b-col>\n        <b-col\n          ><b-form-group\n            id=\"input-email\"\n            label-align=\"left\"\n            label-align-sm=\"left\"\n            label-align-lg=\"left\"\n            label-align-md=\"left\"\n            label-align-xl=\"left\"\n            label=\"Correo\"\n            label-for=\"input-email\"\n          >\n            <b-form-input\n              id=\"input-2\"\n              v-model=\"form.email\"\n              placeholder=\"\"\n              type=\"email\"\n              required\n            ></b-form-input> </b-form-group\n        ></b-col>\n      </b-row>\n      <b-row>\n        <b-col\n          ><b-form-group\n            id=\"input-group-3\"\n            label-align=\"left\"\n            label-align-sm=\"left\"\n            label-align-lg=\"left\"\n            label-align-md=\"left\"\n            label-align-xl=\"left\"\n            label=\"Contraseña\"\n            label-for=\"input-3\"\n          >\n            <b-form-input\n              id=\"input-3\"\n              v-model=\"form.password\"\n              placeholder=\"\"\n              type=\"password\"\n              required\n            ></b-form-input> </b-form-group\n        ></b-col>\n        <b-col\n          ><b-form-group\n            id=\"input-group-4\"\n            label-align=\"left\"\n            label-align-sm=\"left\"\n            label-align-lg=\"left\"\n            label-align-md=\"left\"\n            label-align-xl=\"left\"\n            label=\"Privilegios\"\n            label-for=\"input-4\"\n          >\n            <b-form-select\n              id=\"input-4\"\n              v-model=\"form.type\"\n              :options=\"options\"\n              required\n            ></b-form-select> </b-form-group\n        ></b-col>\n      </b-row>\n\n      <div class=\"mt-3\">\n        <b-button\n          :disabled=\"buttonDisabled\"\n          type=\"submit\"\n          variant=\"primary bg-success\"\n          class=\"mt-4\"\n          style=\"min-width: 14rem\"\n          >Insertar Usuario</b-button\n        >\n      </div>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport { requestHandler } from \"@/helpers/requestHandler\";\nimport { requestOptions } from \"@/helpers/requestOptions\";\nimport EventBus from \"@/bus\";\n\nexport default {\n  name: \"Form\",\n  data() {\n    return {\n      form: {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        type: null,\n      },\n      options: [\n        { value: null, disabled: true, text: \"Seleccione un tipo de usuario\" },\n        { value: \"admin\", text: \"Administrador\" },\n        { value: \"user\", text: \"Usuario\" },\n      ],\n      show: true,\n      buttonDisabled: false,\n    };\n  },\n  methods: {\n    async onSubmit(event) {\n      event.preventDefault();\n      this.buttonDisabled = true;\n      console.log(this.form);\n      const reconsultation = await requestHandler\n        .async_fetch(\n          `${process.env.VUE_APP_BACKEND}/api/v1/user`,\n          requestOptions.post(this.form)\n        )\n        .then(() => {\n          this.showToast();\n        });\n      console.log(reconsultation);\n      EventBus.$emit(\"updateUserTable\");\n      this.buttonDisabled = false;\n      (this.form.username = \"\"),\n        (this.form.email = \"\"),\n        (this.form.password = \"\"),\n        (this.form.type = null),\n        // Trick to reset/clear native browser form validation state\n        (this.show = false);\n      this.$nextTick(() => {\n        this.show = true;\n      });\n      //this.$router.push({name:\"user\"});\n    },\n    onReset(event) {\n      event.preventDefault();\n      // Reset our form values\n      (this.form.username = \"\"),\n        (this.form.email = \"\"),\n        (this.form.password = \"\"),\n        (this.form.type = null),\n        // Trick to reset/clear native browser form validation state\n        (this.show = false);\n      this.$nextTick(() => {\n        this.show = true;\n      });\n    },\n    showToast() {\n      // Use a shorter name for this.$createElement\n      const h = this.$createElement;\n      // Increment the toast count\n      // Create the message\n      const vNodesMsg = h(\"p\", { class: [\"text-center\", \"mb-0\"] }, [\n        h(\"strong\", \"Usuario Registrado con Éxito\"),\n      ]);\n      // Pass the VNodes as an array for message and title\n      this.$bvToast.toast([vNodesMsg], {\n        solid: true,\n        variant: \"info\",\n        toaster: \"b-toaster-top-right\",\n        noCloseButton: true,\n      });\n    },\n  },\n};\n/**\n * style=\"background-color:#6E6658; padding:3rem;\"\n * https://codepen.io/wfigueiredo/pen/BVmzzy\n */\n</script>"]}]}