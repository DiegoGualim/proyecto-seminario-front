{"remainingRequest":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/src/components/Dashboard/ConsultasChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/src/components/Dashboard/ConsultasChart.vue","mtime":1682182228111},{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMaW5lQ2hhcnQgZnJvbSAnLi9MaW5lQ2hhcnQuanMnCmltcG9ydCBCYXJDaGFydCBmcm9tICcuL0JhckNoYXJ0LmpzJwppbXBvcnQgeyByZXF1ZXN0SGFuZGxlciB9IGZyb20gJ0AvaGVscGVycy9yZXF1ZXN0SGFuZGxlcicKaW1wb3J0IHsgcmVxdWVzdE9wdGlvbnMgfSBmcm9tICdAL2hlbHBlcnMvcmVxdWVzdE9wdGlvbnMnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTGluZUNoYXJ0LAogICAgICAgIEJhckNoYXJ0CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkYXRhY29sbGVjdGlvbjogbnVsbCwKICAgICAgICAgICAgY29uc3VsdGF0aW9uczogbnVsbCwKICAgICAgICAgICAgY29uc3VsdGF0aW9uc01hcDogbnVsbCwKICAgICAgICAgICAgY29uc3VsdGF0aW9uc01hcEtleTogW10sCiAgICAgICAgICAgIGNvbnN1bHRhdGlvbnNNYXBWYWx1ZTogW10sCiAgICAgICAgICAgIHJlY29uc3VsdGF0aW9uc2RhdGFjb2xsZWN0aW9uOiBudWxsLAogICAgICAgICAgICByZWNvbnN1bHRhdGlvbnM6IG51bGwsCiAgICAgICAgICAgIHJlY29uc3VsdGF0aW9uc01hcDogbnVsbCwKICAgICAgICAgICAgcmVjb25zdWx0YXRpb25zTWFwS2V5OiBbXSwKICAgICAgICAgICAgcmVjb25zdWx0YXRpb25zTWFwVmFsdWU6IFtdLAogICAgICAgICAgICBkb25hdGlvbnNkYXRhY29sbGVjdGlvbjogbnVsbCwKICAgICAgICAgICAgZG9uYXRpb25zOiBudWxsLAogICAgICAgICAgICBkb25hdGlvbnNNYXA6IG51bGwsCiAgICAgICAgICAgIGRvbmF0aW9uc01hcEtleTogW10sCiAgICAgICAgICAgIGRvbmF0aW9uc01hcFZhbHVlOiBbXSwKICAgICAgICAgICAgZG9uYXRpb25zT3B0aW9uczogbnVsbCwKICAgICAgICAgICAgcGF0aWVudHNkYXRhY29sbGVjdGlvbjogbnVsbCwKICAgICAgICAgICAgcGF0aWVudHM6IG51bGwsCiAgICAgICAgICAgIHBhdGllbnRzTWFwOiBudWxsLAogICAgICAgICAgICBwYXRpZW50c01hcEtleTogW10sCiAgICAgICAgICAgIHBhdGllbnRzTWFwVmFsdWU6IFtdLAogICAgICAgICAgICBkYXRhRnVsbGNvbGxlY3Rpb246IG51bGwsCiAgICAgICAgICAgIHBhdGllbnRzRnVsbE1hcEtleTogW10sCiAgICAgICAgICAgIHBhdGllbnRzRnVsbE1hcFZhbHVlOiBbXSwKICAgICAgICAgICAgZG9uYXRpb25zRnVsbE1hcEtleTogW10sCiAgICAgICAgICAgIGRvbmF0aW9uc0Z1bGxNYXBWYWx1ZTogW10sCiAgICAgICAgICAgIHBhdGllbnRzUHJldllNYXBLZXk6IFtdLAogICAgICAgICAgICBwYXRpZW50c1ByZXZZTWFwVmFsdWU6IFtdLAogICAgICAgICAgICBwYXRpZW50c1ByZXYyWU1hcEtleTogW10sCiAgICAgICAgICAgIHBhdGllbnRzUHJldjJZTWFwVmFsdWU6IFtdLAogICAgICAgICAgICBkYXRhUGF0aWVudHNGdWxsY29sbGVjdGlvbjogbnVsbAogICAgICAgIH0KICAgIH0sCiAgICBhc3luYyBjcmVhdGVkKCkgewogICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKCkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZmlsbERhdGEoKSB7CiAgICAgICAgICAgIHRoaXMuZGF0YWNvbGxlY3Rpb24gPSB7CiAgICAgICAgICAgICAgICBsYWJlbHM6IFsuLi50aGlzLmNvbnN1bHRhdGlvbnNNYXBLZXldLAogICAgICAgICAgICAgICAgZGF0YXNldHM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ29uc3VsdGFzJywKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzI1NEU1OCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFsuLi50aGlzLmNvbnN1bHRhdGlvbnNNYXBWYWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiA1CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMucmVjb25zdWx0YXRpb25zZGF0YWNvbGxlY3Rpb24gPSB7CiAgICAgICAgICAgICAgICBsYWJlbHM6IFsuLi50aGlzLnJlY29uc3VsdGF0aW9uc01hcEtleV0sCiAgICAgICAgICAgICAgICBkYXRhc2V0czogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdSZSBDb25zdWx0YXMnLAogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjU3RTVGJywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogWy4uLnRoaXMucmVjb25zdWx0YXRpb25zTWFwVmFsdWVdLAogICAgICAgICAgICAgICAgICAgICAgICBsaW5lVGVuc2lvbjogMC4xCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmRvbmF0aW9uc2RhdGFjb2xsZWN0aW9uID0gewogICAgICAgICAgICAgICAgbGFiZWxzOiBbLi4udGhpcy5kb25hdGlvbnNNYXBLZXldLAogICAgICAgICAgICAgICAgZGF0YXNldHM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnRG9uYWNpb25lcycsCiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyNTlFOUEnLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbLi4udGhpcy5kb25hdGlvbnNNYXBWYWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICBzY2FsZXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgeTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAxMAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB4OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW46IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDEwCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMucGF0aWVudHNkYXRhY29sbGVjdGlvbiA9IHsKICAgICAgICAgICAgICAgIGxhYmVsczogWy4uLnRoaXMucGF0aWVudHNNYXBLZXldLAogICAgICAgICAgICAgICAgZGF0YXNldHM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnUGFjaWVudGVzJywKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzI1NEU1OCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFsuLi50aGlzLnBhdGllbnRzTWFwVmFsdWVdLAogICAgICAgICAgICAgICAgICAgICAgICBsaW5lVGVuc2lvbjogMC4xCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmRhdGFGdWxsY29sbGVjdGlvbiA9IHsKICAgICAgICAgICAgICAgIGxhYmVsczogWy4uLnRoaXMuY29uc3VsdGF0aW9uc01hcEtleV0sCiAgICAgICAgICAgICAgICBkYXRhc2V0czogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdEb24nLAogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjU5RTlBJywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogWy4uLnRoaXMuZG9uYXRpb25zRnVsbE1hcFZhbHVlXSwKICAgICAgICAgICAgICAgICAgICAgICAgbGluZVRlbnNpb246IDAKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDb24nLAogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjU0RTU4JywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogWy4uLnRoaXMuY29uc3VsdGF0aW9uc01hcFZhbHVlXSwKICAgICAgICAgICAgICAgICAgICAgICAgbGluZVRlbnNpb246IDAKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdSZWNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyNTdFNUYnLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbLi4udGhpcy5wYXRpZW50c0Z1bGxNYXBWYWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogNQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmRhdGFQYXRpZW50c0Z1bGxjb2xsZWN0aW9uID0gewogICAgICAgICAgICAgICAgbGFiZWxzOiBbLi4udGhpcy5wYXRpZW50c01hcEtleV0sCiAgICAgICAgICAgICAgICBkYXRhc2V0czogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdEb24nLAogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjU5RTlBJywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogWy4uLnRoaXMucGF0aWVudHNNYXBWYWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ29uJywKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzI1NEU1OCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFsuLi50aGlzLnBhdGllbnRzUHJldllNYXBWYWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnUmVjb24nLAogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjU3RTVGJywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogWy4uLnRoaXMucGF0aWVudHNQcmV2MllNYXBWYWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogNQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8qIAogICAgICBsZXQgcmFuZ2VEYXRlc01hcHBlZCA9IHJhbmdlRGF0ZXMubWFwKChlKSA9PiB7CiAgICAgICAgbGV0IGpzb24gPSBuZXcgT2JqZWN0KCk7CiAgICAgICAganNvbltgJHtlLnRvTG9jYWxlRGF0ZVN0cmluZygiZW4tR0IiKX1gXSA9IDA7CiAgICAgICAgcmV0dXJuIGpzb247CiAgICAgIH0pOwogICAgICBsZXQgY291bnQgPSAwOwogICAgICBhcnJheURhdGEuZm9yRWFjaCgoZSkgPT4gewogICAgICAgIHJhbmdlRGF0ZXNNYXBwZWQuZm9yRWFjaCgoZWwpID0+IHsKICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlbClbMF0gPT09IGUpIHsKICAgICAgICAgICAgZWxbZV0gPSBhcnJheVZhbHVlc1tjb3VudF07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgY291bnQrKzsKICAgICAgfSk7ICovCiAgICAgICAgfSwKICAgICAgICBhc3luYyBnZXRDb25zdWx0YXRpb25zKCkgewogICAgICAgICAgICB0aGlzLmNvbnN1bHRhdGlvbnMgPSBhd2FpdCByZXF1ZXN0SGFuZGxlci5hc3luY19mZXRjaCgKICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQkFDS0VORH0vYXBpL3YxL2NvbnN1bHRhdGlvbnMvY29uc3VsdGF0aW9uYCwKICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmdldCgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgdGhpcy5yZWNvbnN1bHRhdGlvbnMgPSBhd2FpdCByZXF1ZXN0SGFuZGxlci5hc3luY19mZXRjaCgKICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQkFDS0VORH0vYXBpL3YxL2NvbnN1bHRhdGlvbnMvcmVjb25zdWx0YXRpb25gLAogICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuZ2V0KCkKICAgICAgICAgICAgKQogICAgICAgICAgICB0aGlzLmRvbmF0aW9ucyA9IGF3YWl0IHJlcXVlc3RIYW5kbGVyLmFzeW5jX2ZldGNoKAogICAgICAgICAgICAgICAgYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9CQUNLRU5EfS9hcGkvdjEvY29uc3VsdGF0aW9ucy9kb25hdGlvbmAsCiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5nZXQoKQogICAgICAgICAgICApCiAgICAgICAgICAgIHRoaXMucGF0aWVudHMgPSBhd2FpdCByZXF1ZXN0SGFuZGxlci5hc3luY19mZXRjaCgKICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQkFDS0VORH0vYXBpL3YxL3BhdGllbnRzYCwKICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmdldCgpCiAgICAgICAgICAgICkKICAgICAgICB9LAogICAgICAgIG1hcENvbnN1bHRhdGlvbnMoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29uc3VsdGF0aW9ucywgJ0NPTlNVTFRBVElPTlMnKQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlY29uc3VsdGF0aW9ucywgJ1JFQ09OU1VMVEFUSU9OUycpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZG9uYXRpb25zLCAnRE9OQVRJT05TJykKICAgICAgICAgICAgdGhpcy5jb25zdWx0YXRpb25zTWFwID0gdGhpcy5jb25zdWx0YXRpb25zLnJlZHVjZSgKICAgICAgICAgICAgICAgIChhY2MsIGUpID0+IGFjYy5zZXQoZVsnZGF0ZSddLCAoYWNjLmdldChlWydkYXRlJ10pIHx8IDApICsgMSksCiAgICAgICAgICAgICAgICBuZXcgTWFwKCkKICAgICAgICAgICAgKQogICAgICAgICAgICB0aGlzLnJlY29uc3VsdGF0aW9uc01hcCA9IHRoaXMucmVjb25zdWx0YXRpb25zLnJlZHVjZSgKICAgICAgICAgICAgICAgIChhY2MsIGUpID0+IGFjYy5zZXQoZVsnZGF0ZSddLCAoYWNjLmdldChlWydkYXRlJ10pIHx8IDApICsgMSksCiAgICAgICAgICAgICAgICBuZXcgTWFwKCkKICAgICAgICAgICAgKQogICAgICAgICAgICB0aGlzLmRvbmF0aW9uc01hcCA9IHRoaXMuZG9uYXRpb25zLnJlZHVjZSgKICAgICAgICAgICAgICAgIChhY2MsIGUpID0+IGFjYy5zZXQoZVsnZGF0ZSddLCAoYWNjLmdldChlWydkYXRlJ10pIHx8IDApICsgMSksCiAgICAgICAgICAgICAgICBuZXcgTWFwKCkKICAgICAgICAgICAgKQogICAgICAgICAgICB0aGlzLnBhdGllbnRzTWFwID0gdGhpcy5wYXRpZW50cy5yZWR1Y2UoCiAgICAgICAgICAgICAgICAoYWNjLCBlKSA9PiBhY2Muc2V0KGVbJ2RhdGVfY3JlYXRlZF9hdCddLCAoYWNjLmdldChlWydkYXRlX2NyZWF0ZWRfYXQnXSkgfHwgMCkgKyAxKSwKICAgICAgICAgICAgICAgIG5ldyBNYXAoKQogICAgICAgICAgICApCgogICAgICAgICAgICBjb25zb2xlLmluZm8oWy4uLnRoaXMuZG9uYXRpb25zTWFwLmtleXMoKV0sICdhaXVkYScpCiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhbLi4udGhpcy5jb25zdWx0YXRpb25zTWFwLnZhbHVlcygpXSkKICAgICAgICAgICAgY29uc29sZS5pbmZvKFsuLi50aGlzLmNvbnN1bHRhdGlvbnNNYXAuZW50cmllcygpXSkKCiAgICAgICAgICAgIERhdGUucHJvdG90eXBlLmFkZERheXMgPSBmdW5jdGlvbihkYXlzKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKQogICAgICAgICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgZGF5cykKICAgICAgICAgICAgICAgIHJldHVybiBkYXRlCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0RGF0ZSwgc3RvcERhdGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXJ0RGF0ZSwgc3RvcERhdGUsICd0YW1vIGFxdWlpJykKICAgICAgICAgICAgICAgIHZhciBkYXRlQXJyYXkgPSBuZXcgQXJyYXkoKQogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREYXRlID0gc3RhcnREYXRlCiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudERhdGUgPD0gc3RvcERhdGUpIHsKICAgICAgICAgICAgICAgICAgICBkYXRlQXJyYXkucHVzaChuZXcgRGF0ZShjdXJyZW50RGF0ZSkpCiAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZS5hZGREYXlzKDEpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZUFycmF5CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgdG9kYXlzID0gbmV3IERhdGUoRGF0ZS5ub3coKSkKCiAgICAgICAgICAgIGxldCBhcnJheURhdGEgPSBbLi4udGhpcy5jb25zdWx0YXRpb25zTWFwLmtleXMoKV0KICAgICAgICAgICAgbGV0IGFycmF5VmFsdWVzID0gWy4uLnRoaXMuY29uc3VsdGF0aW9uc01hcC52YWx1ZXMoKV0KICAgICAgICAgICAgY29uc29sZS5sb2coYXJyYXlEYXRhLCBhcnJheVZhbHVlcywgJ3Rlc3QnLCAuLi50aGlzLmNvbnN1bHRhdGlvbnNNYXAudmFsdWVzKCkpCiAgICAgICAgICAgIGxldCBpbml0RGF0ZVNwbGl0ID0gYXJyYXlEYXRhWzBdLnNwbGl0KCcvJykKICAgICAgICAgICAgLy9sZXQgZW5kRGF0ZVNwbGl0ID0gYXJyYXlEYXRhW2FycmF5RGF0YS5sZW5ndGggLSAxXS5zcGxpdCgiLyIpOwogICAgICAgICAgICBsZXQgcmFuZ2VEYXRlcyA9IGdldERhdGVzKAogICAgICAgICAgICAgICAgbmV3IERhdGUoaW5pdERhdGVTcGxpdFsyXSwgaW5pdERhdGVTcGxpdFsxXSAtIDEsIGluaXREYXRlU3BsaXRbMF0gLSA1KSwKICAgICAgICAgICAgICAgIG5ldyBEYXRlKHRvZGF5cy5nZXRGdWxsWWVhcigpLCB0b2RheXMuZ2V0TW9udGgoKSwgdG9kYXlzLmdldERhdGUoKSkKICAgICAgICAgICAgKQoKICAgICAgICAgICAgbGV0IHJhbmdlRGF0ZXNNYXBwZWQgPSByYW5nZURhdGVzLm1hcCgoZSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGFycmF5ZGF0YSA9IG5ldyBBcnJheSgpCiAgICAgICAgICAgICAgICBhcnJheWRhdGFbMF0gPSBlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tR0InKQogICAgICAgICAgICAgICAgYXJyYXlkYXRhWzFdID0gMAogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5ZGF0YQogICAgICAgICAgICB9KQogICAgICAgICAgICBsZXQgY291bnQgPSAwCiAgICAgICAgICAgIGFycmF5RGF0YS5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICByYW5nZURhdGVzTWFwcGVkLmZvckVhY2goKGVsKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsWzBdID09PSBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsWzFdID0gYXJyYXlWYWx1ZXNbY291bnRdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGNvdW50KysKICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIHRoaXMuY29uc3VsdGF0aW9uc01hcEtleSA9IHJhbmdlRGF0ZXNNYXBwZWQubWFwKChlKSA9PiBlWzBdKQogICAgICAgICAgICB0aGlzLmNvbnN1bHRhdGlvbnNNYXBWYWx1ZSA9IHJhbmdlRGF0ZXNNYXBwZWQubWFwKChlKSA9PiBlWzFdKQoKICAgICAgICAgICAgaWYgKFsuLi50aGlzLmRvbmF0aW9uc01hcC5rZXlzKCldLmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgICAgICAgbGV0IGFycmF5RGF0YTIgPSBbLi4udGhpcy5kb25hdGlvbnNNYXAua2V5cygpXQogICAgICAgICAgICAgICAgbGV0IGFycmF5VmFsdWVzMiA9IFsuLi50aGlzLmRvbmF0aW9uc01hcC52YWx1ZXMoKV0KICAgICAgICAgICAgICAgIGxldCBpbml0RGF0ZVNwbGl0MiA9IGFycmF5RGF0YTJbMF0uc3BsaXQoJy8nKQogICAgICAgICAgICAgICAgLy9sZXQgZW5kRGF0ZVNwbGl0MiA9IGFycmF5RGF0YTJbYXJyYXlEYXRhMi5sZW5ndGggLSAxXS5zcGxpdCgiLyIpOwogICAgICAgICAgICAgICAgbGV0IHJhbmdlRGF0ZXMyID0gZ2V0RGF0ZXMoCiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoaW5pdERhdGVTcGxpdDJbMl0sIGluaXREYXRlU3BsaXQyWzFdIC0gMSwgaW5pdERhdGVTcGxpdDJbMF0gLSA1KSwKICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSh0b2RheXMuZ2V0RnVsbFllYXIoKSwgdG9kYXlzLmdldE1vbnRoKCksIHRvZGF5cy5nZXREYXRlKCkpCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgbGV0IHJhbmdlRGF0ZXNNYXBwZWQyID0gcmFuZ2VEYXRlczIubWFwKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ZGF0YTIgPSBuZXcgQXJyYXkoKQogICAgICAgICAgICAgICAgICAgIGFycmF5ZGF0YTJbMF0gPSBlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tR0InKQogICAgICAgICAgICAgICAgICAgIGFycmF5ZGF0YTJbMV0gPSAwCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5ZGF0YTIKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBsZXQgY291bnQyID0gMAogICAgICAgICAgICAgICAgYXJyYXlEYXRhMi5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmFuZ2VEYXRlc01hcHBlZDIuZm9yRWFjaCgoZWwpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsWzBdID09PSBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbFsxXSA9IGFycmF5VmFsdWVzMltjb3VudDJdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIGNvdW50MisrCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgIHRoaXMuZG9uYXRpb25zTWFwS2V5ID0gcmFuZ2VEYXRlc01hcHBlZDIubWFwKChlKSA9PiBlWzBdKQogICAgICAgICAgICAgICAgdGhpcy5kb25hdGlvbnNNYXBWYWx1ZSA9IHJhbmdlRGF0ZXNNYXBwZWQyLm1hcCgoZSkgPT4gZVsxXSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy9yZWNvbnN1bHRhdGlvbnMKCiAgICAgICAgICAgIGxldCBhcnJheURhdGEzID0gWy4uLnRoaXMucmVjb25zdWx0YXRpb25zTWFwLmtleXMoKV0KICAgICAgICAgICAgbGV0IGFycmF5VmFsdWVzMyA9IFsuLi50aGlzLnJlY29uc3VsdGF0aW9uc01hcC52YWx1ZXMoKV0KICAgICAgICAgICAgbGV0IGluaXREYXRlU3BsaXQzID0gYXJyYXlEYXRhM1swXS5zcGxpdCgnLycpCiAgICAgICAgICAgIC8vbGV0IGVuZERhdGVTcGxpdDIgPSBhcnJheURhdGEyW2FycmF5RGF0YTIubGVuZ3RoIC0gMV0uc3BsaXQoIi8iKTsKICAgICAgICAgICAgbGV0IHJhbmdlRGF0ZXMzID0gZ2V0RGF0ZXMoCiAgICAgICAgICAgICAgICBuZXcgRGF0ZShpbml0RGF0ZVNwbGl0M1syXSwgaW5pdERhdGVTcGxpdDNbMV0gLSAxLCBpbml0RGF0ZVNwbGl0M1swXSAtIDUpLAogICAgICAgICAgICAgICAgbmV3IERhdGUodG9kYXlzLmdldEZ1bGxZZWFyKCksIHRvZGF5cy5nZXRNb250aCgpLCB0b2RheXMuZ2V0RGF0ZSgpKQogICAgICAgICAgICApCgogICAgICAgICAgICBsZXQgcmFuZ2VEYXRlc01hcHBlZDMgPSByYW5nZURhdGVzMy5tYXAoKGUpID0+IHsKICAgICAgICAgICAgICAgIGxldCBhcnJheWRhdGEzID0gbmV3IEFycmF5KCkKICAgICAgICAgICAgICAgIGFycmF5ZGF0YTNbMF0gPSBlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tR0InKQogICAgICAgICAgICAgICAgYXJyYXlkYXRhM1sxXSA9IDAKICAgICAgICAgICAgICAgIHJldHVybiBhcnJheWRhdGEzCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGxldCBjb3VudDMgPSAwCiAgICAgICAgICAgIGFycmF5RGF0YTMuZm9yRWFjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgcmFuZ2VEYXRlc01hcHBlZDMuZm9yRWFjaCgoZWwpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxbMF0gPT09IGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxbMV0gPSBhcnJheVZhbHVlczNbY291bnQzXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBjb3VudDMrKwogICAgICAgICAgICB9KQoKICAgICAgICAgICAgdGhpcy5yZWNvbnN1bHRhdGlvbnNNYXBLZXkgPSByYW5nZURhdGVzTWFwcGVkMy5tYXAoKGUpID0+IGVbMF0pCiAgICAgICAgICAgIHRoaXMucmVjb25zdWx0YXRpb25zTWFwVmFsdWUgPSByYW5nZURhdGVzTWFwcGVkMy5tYXAoKGUpID0+IGVbMV0pCgogICAgICAgICAgICAvL3BhdGllbnRzCgogICAgICAgICAgICBsZXQgYXJyYXlEYXRhNCA9IFsuLi50aGlzLnBhdGllbnRzTWFwLmtleXMoKV0KICAgICAgICAgICAgbGV0IGFycmF5VmFsdWVzNCA9IFsuLi50aGlzLnBhdGllbnRzTWFwLnZhbHVlcygpXQogICAgICAgICAgICBsZXQgaW5pdERhdGVTcGxpdDQgPSBhcnJheURhdGE0WzBdLnNwbGl0KCcvJykKICAgICAgICAgICAgLy9sZXQgZW5kRGF0ZVNwbGl0MiA9IGFycmF5RGF0YTJbYXJyYXlEYXRhMi5sZW5ndGggLSAxXS5zcGxpdCgiLyIpOwogICAgICAgICAgICBsZXQgcmFuZ2VEYXRlczQgPSBnZXREYXRlcygKICAgICAgICAgICAgICAgIG5ldyBEYXRlKGluaXREYXRlU3BsaXQ0WzJdLCBpbml0RGF0ZVNwbGl0NFsxXSAtIDEsIGluaXREYXRlU3BsaXQ0WzBdIC0gNSksCiAgICAgICAgICAgICAgICBuZXcgRGF0ZSh0b2RheXMuZ2V0RnVsbFllYXIoKSwgdG9kYXlzLmdldE1vbnRoKCksIHRvZGF5cy5nZXREYXRlKCkpCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGxldCByYW5nZURhdGVzTWFwcGVkNCA9IHJhbmdlRGF0ZXM0Lm1hcCgoZSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGFycmF5ZGF0YTQgPSBuZXcgQXJyYXkoKQogICAgICAgICAgICAgICAgYXJyYXlkYXRhNFswXSA9IGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1HQicpCiAgICAgICAgICAgICAgICBhcnJheWRhdGE0WzFdID0gMAogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5ZGF0YTQKICAgICAgICAgICAgfSkKICAgICAgICAgICAgbGV0IGNvdW50NCA9IDAKICAgICAgICAgICAgYXJyYXlEYXRhNC5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICByYW5nZURhdGVzTWFwcGVkNC5mb3JFYWNoKChlbCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlbFswXSA9PT0gZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlbFsxXSA9IGFycmF5VmFsdWVzNFtjb3VudDRdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGNvdW50NCsrCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICB0aGlzLnBhdGllbnRzTWFwS2V5ID0gcmFuZ2VEYXRlc01hcHBlZDQubWFwKChlKSA9PiBlWzBdKQogICAgICAgICAgICB0aGlzLnBhdGllbnRzTWFwVmFsdWUgPSByYW5nZURhdGVzTWFwcGVkNC5tYXAoKGUpID0+IGVbMV0pCgogICAgICAgICAgICAvL2FsbCByZWNvbnN1bHRhdGlvbnMKCiAgICAgICAgICAgIGxldCBhcnJheURhdGE1ID0gWy4uLnRoaXMucmVjb25zdWx0YXRpb25zTWFwLmtleXMoKV0KICAgICAgICAgICAgbGV0IGFycmF5VmFsdWVzNSA9IFsuLi50aGlzLnJlY29uc3VsdGF0aW9uc01hcC52YWx1ZXMoKV0KICAgICAgICAgICAgLy9sZXQgaW5pdERhdGVTcGxpdDUgPSBhcnJheURhdGE1WzBdLnNwbGl0KCIvIik7CiAgICAgICAgICAgIC8vbGV0IGVuZERhdGVTcGxpdDIgPSBhcnJheURhdGEyW2FycmF5RGF0YTIubGVuZ3RoIC0gMV0uc3BsaXQoIi8iKTsKICAgICAgICAgICAgbGV0IHJhbmdlRGF0ZXM1ID0gZ2V0RGF0ZXMoCiAgICAgICAgICAgICAgICBuZXcgRGF0ZShpbml0RGF0ZVNwbGl0WzJdLCBpbml0RGF0ZVNwbGl0WzFdIC0gMSwgaW5pdERhdGVTcGxpdFswXSAtIDUpLAogICAgICAgICAgICAgICAgbmV3IERhdGUodG9kYXlzLmdldEZ1bGxZZWFyKCksIHRvZGF5cy5nZXRNb250aCgpLCB0b2RheXMuZ2V0RGF0ZSgpKQogICAgICAgICAgICApCgogICAgICAgICAgICBsZXQgcmFuZ2VEYXRlc01hcHBlZDUgPSByYW5nZURhdGVzNS5tYXAoKGUpID0+IHsKICAgICAgICAgICAgICAgIGxldCBhcnJheWRhdGE1ID0gbmV3IEFycmF5KCkKICAgICAgICAgICAgICAgIGFycmF5ZGF0YTVbMF0gPSBlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tR0InKQogICAgICAgICAgICAgICAgYXJyYXlkYXRhNVsxXSA9IDAKICAgICAgICAgICAgICAgIHJldHVybiBhcnJheWRhdGE1CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGxldCBjb3VudDUgPSAwCiAgICAgICAgICAgIGFycmF5RGF0YTUuZm9yRWFjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgcmFuZ2VEYXRlc01hcHBlZDUuZm9yRWFjaCgoZWwpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxbMF0gPT09IGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxbMV0gPSBhcnJheVZhbHVlczVbY291bnQ1XQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBjb3VudDUrKwogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLnBhdGllbnRzRnVsbE1hcEtleSA9IHJhbmdlRGF0ZXNNYXBwZWQ1Lm1hcCgoZSkgPT4gZVswXSkKICAgICAgICAgICAgdGhpcy5wYXRpZW50c0Z1bGxNYXBWYWx1ZSA9IHJhbmdlRGF0ZXNNYXBwZWQ1Lm1hcCgoZSkgPT4gZVsxXSkKCiAgICAgICAgICAgIC8vYWxsIGRvbmF0aW9ucwoKICAgICAgICAgICAgbGV0IGFycmF5RGF0YTYgPSBbLi4udGhpcy5kb25hdGlvbnNNYXAua2V5cygpXQogICAgICAgICAgICBsZXQgYXJyYXlWYWx1ZXM2ID0gWy4uLnRoaXMuZG9uYXRpb25zTWFwLnZhbHVlcygpXQogICAgICAgICAgICAvL2xldCBpbml0RGF0ZVNwbGl0NSA9IGFycmF5RGF0YTVbMF0uc3BsaXQoIi8iKTsKICAgICAgICAgICAgLy9sZXQgZW5kRGF0ZVNwbGl0MiA9IGFycmF5RGF0YTJbYXJyYXlEYXRhMi5sZW5ndGggLSAxXS5zcGxpdCgiLyIpOwogICAgICAgICAgICBsZXQgcmFuZ2VEYXRlczYgPSBnZXREYXRlcygKICAgICAgICAgICAgICAgIG5ldyBEYXRlKGluaXREYXRlU3BsaXRbMl0sIGluaXREYXRlU3BsaXRbMV0gLSAxLCBpbml0RGF0ZVNwbGl0WzBdIC0gNSksCiAgICAgICAgICAgICAgICBuZXcgRGF0ZSh0b2RheXMuZ2V0RnVsbFllYXIoKSwgdG9kYXlzLmdldE1vbnRoKCksIHRvZGF5cy5nZXREYXRlKCkpCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGxldCByYW5nZURhdGVzTWFwcGVkNiA9IHJhbmdlRGF0ZXM2Lm1hcCgoZSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGFycmF5ZGF0YTYgPSBuZXcgQXJyYXkoKQogICAgICAgICAgICAgICAgYXJyYXlkYXRhNlswXSA9IGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1HQicpCiAgICAgICAgICAgICAgICBhcnJheWRhdGE2WzFdID0gMAogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5ZGF0YTYKICAgICAgICAgICAgfSkKICAgICAgICAgICAgbGV0IGNvdW50NiA9IDAKICAgICAgICAgICAgYXJyYXlEYXRhNi5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICByYW5nZURhdGVzTWFwcGVkNi5mb3JFYWNoKChlbCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlbFswXSA9PT0gZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlbFsxXSA9IGFycmF5VmFsdWVzNltjb3VudDZdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGNvdW50NisrCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuZG9uYXRpb25zRnVsbE1hcEtleSA9IHJhbmdlRGF0ZXNNYXBwZWQ2Lm1hcCgoZSkgPT4gZVswXSkKICAgICAgICAgICAgdGhpcy5kb25hdGlvbnNGdWxsTWFwVmFsdWUgPSByYW5nZURhdGVzTWFwcGVkNi5tYXAoKGUpID0+IGVbMV0pCgogICAgICAgICAgICAvL3BhdGllbnRzIHByZXZpb3VzIHllYXIKCiAgICAgICAgICAgIGxldCBhcnJheURhdGE3ID0gWy4uLnRoaXMucGF0aWVudHNNYXAua2V5cygpXQogICAgICAgICAgICBsZXQgYXJyYXlWYWx1ZXM3ID0gWy4uLnRoaXMucGF0aWVudHNNYXAudmFsdWVzKCldCiAgICAgICAgICAgIGxldCBpbml0RGF0ZVNwbGl0NyA9IGFycmF5RGF0YTdbMF0uc3BsaXQoJy8nKQogICAgICAgICAgICAvL2xldCBlbmREYXRlU3BsaXQyID0gYXJyYXlEYXRhMlthcnJheURhdGEyLmxlbmd0aCAtIDFdLnNwbGl0KCIvIik7CiAgICAgICAgICAgIGxldCByYW5nZURhdGVzNyA9IGdldERhdGVzKAogICAgICAgICAgICAgICAgbmV3IERhdGUoaW5pdERhdGVTcGxpdDdbMl0sIGluaXREYXRlU3BsaXQ3WzFdIC0gMSwgaW5pdERhdGVTcGxpdDdbMF0gLSA1KSwKICAgICAgICAgICAgICAgIG5ldyBEYXRlKHRvZGF5cy5nZXRGdWxsWWVhcigpIC0gMSwgdG9kYXlzLmdldE1vbnRoKCksIHRvZGF5cy5nZXREYXRlKCkpCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGxldCByYW5nZURhdGVzTWFwcGVkNyA9IHJhbmdlRGF0ZXM3Lm1hcCgoZSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGFycmF5ZGF0YTcgPSBuZXcgQXJyYXkoKQogICAgICAgICAgICAgICAgYXJyYXlkYXRhN1swXSA9IGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1HQicpCiAgICAgICAgICAgICAgICBhcnJheWRhdGE3WzFdID0gMAogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5ZGF0YTcKICAgICAgICAgICAgfSkKICAgICAgICAgICAgbGV0IGNvdW50NyA9IDAKICAgICAgICAgICAgYXJyYXlEYXRhNy5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICByYW5nZURhdGVzTWFwcGVkNy5mb3JFYWNoKChlbCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlbFswXSA9PT0gZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlbFsxXSA9IGFycmF5VmFsdWVzN1tjb3VudDddCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGNvdW50NysrCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICB0aGlzLnBhdGllbnRzUHJldllNYXBLZXkgPSByYW5nZURhdGVzTWFwcGVkNy5tYXAoKGUpID0+IGVbMF0pCiAgICAgICAgICAgIHRoaXMucGF0aWVudHNQcmV2WU1hcFZhbHVlID0gcmFuZ2VEYXRlc01hcHBlZDcubWFwKChlKSA9PiBlWzFdKQoKICAgICAgICAgICAgLy9wYXRpZW50cyBwcmV2aW91cyAyIHllYXIKCiAgICAgICAgICAgIGxldCBhcnJheURhdGE4ID0gWy4uLnRoaXMucGF0aWVudHNNYXAua2V5cygpXQogICAgICAgICAgICBsZXQgYXJyYXlWYWx1ZXM4ID0gWy4uLnRoaXMucGF0aWVudHNNYXAudmFsdWVzKCldCiAgICAgICAgICAgIGxldCBpbml0RGF0ZVNwbGl0OCA9IGFycmF5RGF0YThbMF0uc3BsaXQoJy8nKQogICAgICAgICAgICAvL2xldCBlbmREYXRlU3BsaXQyID0gYXJyYXlEYXRhMlthcnJheURhdGEyLmxlbmd0aCAtIDFdLnNwbGl0KCIvIik7CiAgICAgICAgICAgIGxldCByYW5nZURhdGVzOCA9IGdldERhdGVzKAogICAgICAgICAgICAgICAgbmV3IERhdGUoaW5pdERhdGVTcGxpdDhbMl0sIGluaXREYXRlU3BsaXQ4WzFdIC0gMSwgaW5pdERhdGVTcGxpdDhbMF0gLSA1KSwKICAgICAgICAgICAgICAgIG5ldyBEYXRlKHRvZGF5cy5nZXRGdWxsWWVhcigpIC0gMiwgdG9kYXlzLmdldE1vbnRoKCksIHRvZGF5cy5nZXREYXRlKCkpCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGxldCByYW5nZURhdGVzTWFwcGVkOCA9IHJhbmdlRGF0ZXM4Lm1hcCgoZSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGFycmF5ZGF0YTggPSBuZXcgQXJyYXkoKQogICAgICAgICAgICAgICAgYXJyYXlkYXRhOFswXSA9IGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1HQicpCiAgICAgICAgICAgICAgICBhcnJheWRhdGE4WzFdID0gMAogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5ZGF0YTgKICAgICAgICAgICAgfSkKICAgICAgICAgICAgbGV0IGNvdW50OCA9IDAKICAgICAgICAgICAgYXJyYXlEYXRhOC5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICByYW5nZURhdGVzTWFwcGVkOC5mb3JFYWNoKChlbCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlbFswXSA9PT0gZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlbFsxXSA9IGFycmF5VmFsdWVzOFtjb3VudDhdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGNvdW50OCsrCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICB0aGlzLnBhdGllbnRzUHJldjJZTWFwS2V5ID0gcmFuZ2VEYXRlc01hcHBlZDgubWFwKChlKSA9PiBlWzBdKQogICAgICAgICAgICB0aGlzLnBhdGllbnRzUHJldjJZTWFwVmFsdWUgPSByYW5nZURhdGVzTWFwcGVkOC5tYXAoKGUpID0+IGVbMV0pCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29uc3VsdGF0aW9uc01hcFZhbHVlLCAndmFsb3InKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgdXBkYXRlKCkgewogICAgICAgICAgICBhd2FpdCB0aGlzLmdldENvbnN1bHRhdGlvbnMoKQogICAgICAgICAgICB0aGlzLm1hcENvbnN1bHRhdGlvbnMoKQogICAgICAgICAgICB0aGlzLmZpbGxEYXRhKCkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["ConsultasChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ConsultasChart.vue","sourceRoot":"src/components/Dashboard","sourcesContent":["<template>\n    <div class=\"mt-3\">\n        <b-row cols=\"1\" cols-sm=\"2\" cols-md=\"2\" cols-lg=\"3\" cols-xl=\"3\">\n            <b-col>\n                <div class=\"small\">\n                    <line-chart v-if=\"datacollection\" :chart-data=\"datacollection\"></line-chart>\n                </div>\n            </b-col>\n            <b-col>\n                <bar-chart\n                    v-if=\"reconsultationsdatacollection\"\n                    :chart-data=\"reconsultationsdatacollection\"\n                ></bar-chart>\n            </b-col>\n            <b-col>\n                <bar-chart\n                    v-if=\"donationsdatacollection\"\n                    :chart-data=\"donationsdatacollection\"\n                ></bar-chart>\n            </b-col>\n        </b-row>\n        <b-row class=\"mt-5\" cols=\"1\" cols-sm=\"2\" cols-md=\"2\" cols-lg=\"3\" cols-xl=\"3\">\n            <b-col>\n                <line-chart\n                    v-if=\"patientsdatacollection\"\n                    :chart-data=\"patientsdatacollection\"\n                ></line-chart\n            ></b-col>\n            <b-col>\n                <line-chart v-if=\"dataFullcollection\" :chart-data=\"dataFullcollection\"></line-chart\n            ></b-col>\n        </b-row>\n        <!-- <b-button class=\"mt-4\" active variant=\"primary bg-success\" @click=\"update()\"\n      >Actualizar</b-button\n    > -->\n    </div>\n</template>\n\n<script>\nimport LineChart from './LineChart.js'\nimport BarChart from './BarChart.js'\nimport { requestHandler } from '@/helpers/requestHandler'\nimport { requestOptions } from '@/helpers/requestOptions'\n\nexport default {\n    components: {\n        LineChart,\n        BarChart\n    },\n    data() {\n        return {\n            datacollection: null,\n            consultations: null,\n            consultationsMap: null,\n            consultationsMapKey: [],\n            consultationsMapValue: [],\n            reconsultationsdatacollection: null,\n            reconsultations: null,\n            reconsultationsMap: null,\n            reconsultationsMapKey: [],\n            reconsultationsMapValue: [],\n            donationsdatacollection: null,\n            donations: null,\n            donationsMap: null,\n            donationsMapKey: [],\n            donationsMapValue: [],\n            donationsOptions: null,\n            patientsdatacollection: null,\n            patients: null,\n            patientsMap: null,\n            patientsMapKey: [],\n            patientsMapValue: [],\n            dataFullcollection: null,\n            patientsFullMapKey: [],\n            patientsFullMapValue: [],\n            donationsFullMapKey: [],\n            donationsFullMapValue: [],\n            patientsPrevYMapKey: [],\n            patientsPrevYMapValue: [],\n            patientsPrev2YMapKey: [],\n            patientsPrev2YMapValue: [],\n            dataPatientsFullcollection: null\n        }\n    },\n    async created() {\n        await this.update()\n    },\n    methods: {\n        fillData() {\n            this.datacollection = {\n                labels: [...this.consultationsMapKey],\n                datasets: [\n                    {\n                        label: 'Consultas',\n                        backgroundColor: '#254E58',\n                        data: [...this.consultationsMapValue],\n                        lineTension: 0.1\n                    }\n                ],\n                options: {\n                    aspectRatio: 5\n                }\n            }\n\n            this.reconsultationsdatacollection = {\n                labels: [...this.reconsultationsMapKey],\n                datasets: [\n                    {\n                        label: 'Re Consultas',\n                        backgroundColor: '#257E5F',\n                        data: [...this.reconsultationsMapValue],\n                        lineTension: 0.1\n                    }\n                ]\n            }\n\n            this.donationsdatacollection = {\n                labels: [...this.donationsMapKey],\n                datasets: [\n                    {\n                        label: 'Donaciones',\n                        backgroundColor: '#259E9A',\n                        data: [...this.donationsMapValue],\n                        lineTension: 0\n                    }\n                ],\n                options: {\n                    scales: {\n                        y: {\n                            min: 0,\n                            max: 10\n                        },\n                        x: {\n                            min: 0,\n                            max: 10\n                        }\n                    }\n                }\n            }\n\n            this.patientsdatacollection = {\n                labels: [...this.patientsMapKey],\n                datasets: [\n                    {\n                        label: 'Pacientes',\n                        backgroundColor: '#254E58',\n                        data: [...this.patientsMapValue],\n                        lineTension: 0.1\n                    }\n                ]\n            }\n\n            this.dataFullcollection = {\n                labels: [...this.consultationsMapKey],\n                datasets: [\n                    {\n                        label: 'Don',\n                        backgroundColor: '#259E9A',\n                        data: [...this.donationsFullMapValue],\n                        lineTension: 0\n                    },\n                    {\n                        label: 'Con',\n                        backgroundColor: '#254E58',\n                        data: [...this.consultationsMapValue],\n                        lineTension: 0\n                    },\n                    {\n                        label: 'Recon',\n                        backgroundColor: '#257E5F',\n                        data: [...this.patientsFullMapValue],\n                        lineTension: 0\n                    }\n                ],\n                options: {\n                    aspectRatio: 5\n                }\n            }\n\n            this.dataPatientsFullcollection = {\n                labels: [...this.patientsMapKey],\n                datasets: [\n                    {\n                        label: 'Don',\n                        backgroundColor: '#259E9A',\n                        data: [...this.patientsMapValue],\n                        lineTension: 0\n                    },\n                    {\n                        label: 'Con',\n                        backgroundColor: '#254E58',\n                        data: [...this.patientsPrevYMapValue],\n                        lineTension: 0\n                    },\n                    {\n                        label: 'Recon',\n                        backgroundColor: '#257E5F',\n                        data: [...this.patientsPrev2YMapValue],\n                        lineTension: 0\n                    }\n                ],\n                options: {\n                    aspectRatio: 5\n                }\n            }\n            /* \n      let rangeDatesMapped = rangeDates.map((e) => {\n        let json = new Object();\n        json[`${e.toLocaleDateString(\"en-GB\")}`] = 0;\n        return json;\n      });\n      let count = 0;\n      arrayData.forEach((e) => {\n        rangeDatesMapped.forEach((el) => {\n          if (Object.getOwnPropertyNames(el)[0] === e) {\n            el[e] = arrayValues[count];\n          }\n        });\n        count++;\n      }); */\n        },\n        async getConsultations() {\n            this.consultations = await requestHandler.async_fetch(\n                `${process.env.VUE_APP_BACKEND}/api/v1/consultations/consultation`,\n                requestOptions.get()\n            )\n            this.reconsultations = await requestHandler.async_fetch(\n                `${process.env.VUE_APP_BACKEND}/api/v1/consultations/reconsultation`,\n                requestOptions.get()\n            )\n            this.donations = await requestHandler.async_fetch(\n                `${process.env.VUE_APP_BACKEND}/api/v1/consultations/donation`,\n                requestOptions.get()\n            )\n            this.patients = await requestHandler.async_fetch(\n                `${process.env.VUE_APP_BACKEND}/api/v1/patients`,\n                requestOptions.get()\n            )\n        },\n        mapConsultations() {\n            console.log(this.consultations, 'CONSULTATIONS')\n            console.log(this.reconsultations, 'RECONSULTATIONS')\n            console.log(this.donations, 'DONATIONS')\n            this.consultationsMap = this.consultations.reduce(\n                (acc, e) => acc.set(e['date'], (acc.get(e['date']) || 0) + 1),\n                new Map()\n            )\n            this.reconsultationsMap = this.reconsultations.reduce(\n                (acc, e) => acc.set(e['date'], (acc.get(e['date']) || 0) + 1),\n                new Map()\n            )\n            this.donationsMap = this.donations.reduce(\n                (acc, e) => acc.set(e['date'], (acc.get(e['date']) || 0) + 1),\n                new Map()\n            )\n            this.patientsMap = this.patients.reduce(\n                (acc, e) => acc.set(e['date_created_at'], (acc.get(e['date_created_at']) || 0) + 1),\n                new Map()\n            )\n\n            console.info([...this.donationsMap.keys()], 'aiuda')\n            console.info([...this.consultationsMap.values()])\n            console.info([...this.consultationsMap.entries()])\n\n            Date.prototype.addDays = function(days) {\n                var date = new Date(this.valueOf())\n                date.setDate(date.getDate() + days)\n                return date\n            }\n\n            function getDates(startDate, stopDate) {\n                console.log(startDate, stopDate, 'tamo aquii')\n                var dateArray = new Array()\n                var currentDate = startDate\n                while (currentDate <= stopDate) {\n                    dateArray.push(new Date(currentDate))\n                    currentDate = currentDate.addDays(1)\n                }\n                return dateArray\n            }\n            const todays = new Date(Date.now())\n\n            let arrayData = [...this.consultationsMap.keys()]\n            let arrayValues = [...this.consultationsMap.values()]\n            console.log(arrayData, arrayValues, 'test', ...this.consultationsMap.values())\n            let initDateSplit = arrayData[0].split('/')\n            //let endDateSplit = arrayData[arrayData.length - 1].split(\"/\");\n            let rangeDates = getDates(\n                new Date(initDateSplit[2], initDateSplit[1] - 1, initDateSplit[0] - 5),\n                new Date(todays.getFullYear(), todays.getMonth(), todays.getDate())\n            )\n\n            let rangeDatesMapped = rangeDates.map((e) => {\n                let arraydata = new Array()\n                arraydata[0] = e.toLocaleDateString('en-GB')\n                arraydata[1] = 0\n                return arraydata\n            })\n            let count = 0\n            arrayData.forEach((e) => {\n                rangeDatesMapped.forEach((el) => {\n                    if (el[0] === e) {\n                        el[1] = arrayValues[count]\n                    }\n                })\n                count++\n            })\n\n            this.consultationsMapKey = rangeDatesMapped.map((e) => e[0])\n            this.consultationsMapValue = rangeDatesMapped.map((e) => e[1])\n\n            if ([...this.donationsMap.keys()].length !== 0) {\n                let arrayData2 = [...this.donationsMap.keys()]\n                let arrayValues2 = [...this.donationsMap.values()]\n                let initDateSplit2 = arrayData2[0].split('/')\n                //let endDateSplit2 = arrayData2[arrayData2.length - 1].split(\"/\");\n                let rangeDates2 = getDates(\n                    new Date(initDateSplit2[2], initDateSplit2[1] - 1, initDateSplit2[0] - 5),\n                    new Date(todays.getFullYear(), todays.getMonth(), todays.getDate())\n                )\n\n                let rangeDatesMapped2 = rangeDates2.map((e) => {\n                    let arraydata2 = new Array()\n                    arraydata2[0] = e.toLocaleDateString('en-GB')\n                    arraydata2[1] = 0\n                    return arraydata2\n                })\n                let count2 = 0\n                arrayData2.forEach((e) => {\n                    rangeDatesMapped2.forEach((el) => {\n                        if (el[0] === e) {\n                            el[1] = arrayValues2[count2]\n                        }\n                    })\n                    count2++\n                })\n\n                this.donationsMapKey = rangeDatesMapped2.map((e) => e[0])\n                this.donationsMapValue = rangeDatesMapped2.map((e) => e[1])\n            }\n\n            //reconsultations\n\n            let arrayData3 = [...this.reconsultationsMap.keys()]\n            let arrayValues3 = [...this.reconsultationsMap.values()]\n            let initDateSplit3 = arrayData3[0].split('/')\n            //let endDateSplit2 = arrayData2[arrayData2.length - 1].split(\"/\");\n            let rangeDates3 = getDates(\n                new Date(initDateSplit3[2], initDateSplit3[1] - 1, initDateSplit3[0] - 5),\n                new Date(todays.getFullYear(), todays.getMonth(), todays.getDate())\n            )\n\n            let rangeDatesMapped3 = rangeDates3.map((e) => {\n                let arraydata3 = new Array()\n                arraydata3[0] = e.toLocaleDateString('en-GB')\n                arraydata3[1] = 0\n                return arraydata3\n            })\n            let count3 = 0\n            arrayData3.forEach((e) => {\n                rangeDatesMapped3.forEach((el) => {\n                    if (el[0] === e) {\n                        el[1] = arrayValues3[count3]\n                    }\n                })\n                count3++\n            })\n\n            this.reconsultationsMapKey = rangeDatesMapped3.map((e) => e[0])\n            this.reconsultationsMapValue = rangeDatesMapped3.map((e) => e[1])\n\n            //patients\n\n            let arrayData4 = [...this.patientsMap.keys()]\n            let arrayValues4 = [...this.patientsMap.values()]\n            let initDateSplit4 = arrayData4[0].split('/')\n            //let endDateSplit2 = arrayData2[arrayData2.length - 1].split(\"/\");\n            let rangeDates4 = getDates(\n                new Date(initDateSplit4[2], initDateSplit4[1] - 1, initDateSplit4[0] - 5),\n                new Date(todays.getFullYear(), todays.getMonth(), todays.getDate())\n            )\n\n            let rangeDatesMapped4 = rangeDates4.map((e) => {\n                let arraydata4 = new Array()\n                arraydata4[0] = e.toLocaleDateString('en-GB')\n                arraydata4[1] = 0\n                return arraydata4\n            })\n            let count4 = 0\n            arrayData4.forEach((e) => {\n                rangeDatesMapped4.forEach((el) => {\n                    if (el[0] === e) {\n                        el[1] = arrayValues4[count4]\n                    }\n                })\n                count4++\n            })\n\n            this.patientsMapKey = rangeDatesMapped4.map((e) => e[0])\n            this.patientsMapValue = rangeDatesMapped4.map((e) => e[1])\n\n            //all reconsultations\n\n            let arrayData5 = [...this.reconsultationsMap.keys()]\n            let arrayValues5 = [...this.reconsultationsMap.values()]\n            //let initDateSplit5 = arrayData5[0].split(\"/\");\n            //let endDateSplit2 = arrayData2[arrayData2.length - 1].split(\"/\");\n            let rangeDates5 = getDates(\n                new Date(initDateSplit[2], initDateSplit[1] - 1, initDateSplit[0] - 5),\n                new Date(todays.getFullYear(), todays.getMonth(), todays.getDate())\n            )\n\n            let rangeDatesMapped5 = rangeDates5.map((e) => {\n                let arraydata5 = new Array()\n                arraydata5[0] = e.toLocaleDateString('en-GB')\n                arraydata5[1] = 0\n                return arraydata5\n            })\n            let count5 = 0\n            arrayData5.forEach((e) => {\n                rangeDatesMapped5.forEach((el) => {\n                    if (el[0] === e) {\n                        el[1] = arrayValues5[count5]\n                    }\n                })\n                count5++\n            })\n            this.patientsFullMapKey = rangeDatesMapped5.map((e) => e[0])\n            this.patientsFullMapValue = rangeDatesMapped5.map((e) => e[1])\n\n            //all donations\n\n            let arrayData6 = [...this.donationsMap.keys()]\n            let arrayValues6 = [...this.donationsMap.values()]\n            //let initDateSplit5 = arrayData5[0].split(\"/\");\n            //let endDateSplit2 = arrayData2[arrayData2.length - 1].split(\"/\");\n            let rangeDates6 = getDates(\n                new Date(initDateSplit[2], initDateSplit[1] - 1, initDateSplit[0] - 5),\n                new Date(todays.getFullYear(), todays.getMonth(), todays.getDate())\n            )\n\n            let rangeDatesMapped6 = rangeDates6.map((e) => {\n                let arraydata6 = new Array()\n                arraydata6[0] = e.toLocaleDateString('en-GB')\n                arraydata6[1] = 0\n                return arraydata6\n            })\n            let count6 = 0\n            arrayData6.forEach((e) => {\n                rangeDatesMapped6.forEach((el) => {\n                    if (el[0] === e) {\n                        el[1] = arrayValues6[count6]\n                    }\n                })\n                count6++\n            })\n            this.donationsFullMapKey = rangeDatesMapped6.map((e) => e[0])\n            this.donationsFullMapValue = rangeDatesMapped6.map((e) => e[1])\n\n            //patients previous year\n\n            let arrayData7 = [...this.patientsMap.keys()]\n            let arrayValues7 = [...this.patientsMap.values()]\n            let initDateSplit7 = arrayData7[0].split('/')\n            //let endDateSplit2 = arrayData2[arrayData2.length - 1].split(\"/\");\n            let rangeDates7 = getDates(\n                new Date(initDateSplit7[2], initDateSplit7[1] - 1, initDateSplit7[0] - 5),\n                new Date(todays.getFullYear() - 1, todays.getMonth(), todays.getDate())\n            )\n\n            let rangeDatesMapped7 = rangeDates7.map((e) => {\n                let arraydata7 = new Array()\n                arraydata7[0] = e.toLocaleDateString('en-GB')\n                arraydata7[1] = 0\n                return arraydata7\n            })\n            let count7 = 0\n            arrayData7.forEach((e) => {\n                rangeDatesMapped7.forEach((el) => {\n                    if (el[0] === e) {\n                        el[1] = arrayValues7[count7]\n                    }\n                })\n                count7++\n            })\n\n            this.patientsPrevYMapKey = rangeDatesMapped7.map((e) => e[0])\n            this.patientsPrevYMapValue = rangeDatesMapped7.map((e) => e[1])\n\n            //patients previous 2 year\n\n            let arrayData8 = [...this.patientsMap.keys()]\n            let arrayValues8 = [...this.patientsMap.values()]\n            let initDateSplit8 = arrayData8[0].split('/')\n            //let endDateSplit2 = arrayData2[arrayData2.length - 1].split(\"/\");\n            let rangeDates8 = getDates(\n                new Date(initDateSplit8[2], initDateSplit8[1] - 1, initDateSplit8[0] - 5),\n                new Date(todays.getFullYear() - 2, todays.getMonth(), todays.getDate())\n            )\n\n            let rangeDatesMapped8 = rangeDates8.map((e) => {\n                let arraydata8 = new Array()\n                arraydata8[0] = e.toLocaleDateString('en-GB')\n                arraydata8[1] = 0\n                return arraydata8\n            })\n            let count8 = 0\n            arrayData8.forEach((e) => {\n                rangeDatesMapped8.forEach((el) => {\n                    if (el[0] === e) {\n                        el[1] = arrayValues8[count8]\n                    }\n                })\n                count8++\n            })\n\n            this.patientsPrev2YMapKey = rangeDatesMapped8.map((e) => e[0])\n            this.patientsPrev2YMapValue = rangeDatesMapped8.map((e) => e[1])\n            console.log(this.consultationsMapValue, 'valor')\n        },\n        async update() {\n            await this.getConsultations()\n            this.mapConsultations()\n            this.fillData()\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.small {\n    max-width: 600px;\n}\n</style>\n"]}]}