{"remainingRequest":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/src/components/Consulta/Table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/src/components/Consulta/Table.vue","mtime":1671906349161},{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/cache-loader/dist/cjs.js","mtime":1672093339547},{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/babel-loader/lib/index.js","mtime":1672093340413},{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/cache-loader/dist/cjs.js","mtime":1672093339547},{"path":"/Users/diegogualim/Documents/GUAITECH-APIS-INTERNAL/fundacionapa/node_modules/vue-loader/lib/index.js","mtime":1672093340629}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcXVlc3RIYW5kbGVyIH0gZnJvbSAiQC9oZWxwZXJzL3JlcXVlc3RIYW5kbGVyIjsKaW1wb3J0IHsgcmVxdWVzdE9wdGlvbnMgfSBmcm9tICJAL2hlbHBlcnMvcmVxdWVzdE9wdGlvbnMiOwoKLy9pbXBvcnQgWExTWCBmcm9tICJ4bHN4IjsKCi8qKioKICogVE9ETyBBZ3JlZ2FyIGVzdG9zIGNhbXBvcyBhIGxvcyByZXBvcnRlcyBhbnRlcmlvcmVzCiAqIGFncmVnYXIgaXNSZUNvbnN1bHRhIGxvZ2ljYSBCRCBCYWNrIHkgZnJvbnQKICogZmlsdHJvcyB0YWJsYSBjb25zdWx0YSBwYXJhIHZpc3VhbGl6YXIgbG9zIGRhdG9zIGRlc2VhZG9zCiAqIGV4cG9ydGFyIGV4Y2VsIGNvbnN1bHRhCiAqIGV4cG9ydGFyIGV4Y2VsIHBhY2llbnRlcwogKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFtdLAogICAgICBmaWVsZHM6IFsKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJjYXJuZXQiLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICBsYWJlbDogIkNhcm5ldCIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJmaXJzdF9uYW1lIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgbGFiZWw6ICJOb21icmUiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAibGFzdF9uYW1lIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgbGFiZWw6ICJBcGVsbGlkbyIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJkYXRlIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgbGFiZWw6ICJGZWNoYSIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJ0eXBlIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgbGFiZWw6ICJUaXBvIENsw61uaWNhIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogImlzcmVjb25zdWx0YXRpb24iLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICBsYWJlbDogIlRpcG8iLAogICAgICAgICAgZm9ybWF0dGVyOiAodmFsdWUpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDAgPyAiQ29uc3VsdGEiIDogIlJlIENvbnN1bHRhIjsKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJpc2RvbmF0aW9uIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgbGFiZWw6ICJFcyBEb25hY2nDs24iLAogICAgICAgICAgZm9ybWF0dGVyOiAodmFsdWUpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDAgPyAiTm8iIDogIlPDrSI7CiAgICAgICAgICB9LAogICAgICAgIH0sCgogICAgICAgIHsga2V5OiAiYWN0aW9ucyIsIGxhYmVsOiAiQWNjaW9uZXMiIH0sCiAgICAgIF0sCiAgICAgIHRvdGFsUm93czogMSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHBlclBhZ2U6IDUsCiAgICAgIHBhZ2VPcHRpb25zOiBbNSwgMTAsIDE1LCB7IHZhbHVlOiAxMDAsIHRleHQ6ICJNb3N0cmFyIE11Y2hvcyIgfV0sCiAgICAgIHNvcnRCeTogImRhdGUiLAogICAgICBzb3J0RGVzYzogdHJ1ZSwKICAgICAgc29ydERpcmVjdGlvbjogImFzYyIsCiAgICAgIGZpbHRlcjogbnVsbCwKICAgICAgZmlsdGVyT246IFtdLAogICAgICBmaWx0ZXJlZEl0ZW1zOiBbXSwKICAgICAgb3B0aW9uc0Zvcm1TZWxlY3Q6IFsKICAgICAgICB7IHZhbHVlOiBudWxsLCBkaXNhYmxlZDogdHJ1ZSwgdGV4dDogImZpbHRyYXIgcG9yIHRpcG8gZGUgY29uc3VsdGEiIH0sCiAgICAgICAgeyB2YWx1ZTogWyIwIiwiMCJdLCB0ZXh0OiAiQ29uc3VsdGEiIH0sCiAgICAgICAgeyB2YWx1ZTogWyIxIiwiMCJdLCB0ZXh0OiAiUmUgQ29uc3VsdGEiIH0sCiAgICAgICAgeyB2YWx1ZTogWyIxIiwiMSJdLCB0ZXh0OiAiQ29uc3VsdGFzIERvbmFkYXMiIH0KICAgICAgXSwKICAgICAgc2VsZWN0Rm9ybTQ6bnVsbCwKICAgICAgb3JpZ2luYWxJdGVtczpbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzb3J0T3B0aW9ucygpIHsKICAgICAgLy8gQ3JlYXRlIGFuIG9wdGlvbnMgbGlzdCBmcm9tIG91ciBmaWVsZHMKICAgICAgcmV0dXJuIHRoaXMuZmllbGRzCiAgICAgICAgLmZpbHRlcigoZikgPT4gZi5zb3J0YWJsZSkKICAgICAgICAubWFwKChmKSA9PiB7CiAgICAgICAgICByZXR1cm4geyB0ZXh0OiBmLmxhYmVsLCB2YWx1ZTogZi5rZXkgfTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgLy8gU2V0IHRoZSBpbml0aWFsIG51bWJlciBvZiBpdGVtcwogICAgYXdhaXQgdGhpcy5mZXRjaERhdGEoKTsKICAgIHRoaXMudG90YWxSb3dzID0gdGhpcy5pdGVtcy5sZW5ndGg7CiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSB0aGlzLml0ZW1zOwogIH0sCiAgYXN5bmMgYmVmb3JlQ3JlYXRlKCkge30sCiAgbWV0aG9kczogewogICAgcmVzZXRJbmZvTW9kYWwoKSB7CiAgICAgIHRoaXMuaW5mb01vZGFsLnRpdGxlID0gIiI7CiAgICAgIHRoaXMuaW5mb01vZGFsLmNvbnRlbnQgPSAiIjsKICAgIH0sCiAgICBvbkNoYW5nZShldmVudENoYW5nZSl7CiAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLm9yaWdpbmFsSXRlbXM7CiAgICAgIGNvbnNvbGUubG9nKGV2ZW50Q2hhbmdlKTsKICAgICAgaWYoZXZlbnRDaGFuZ2VbMF09PSIxIiAmJiBldmVudENoYW5nZVsxXT09IjEiKXsKICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5maWx0ZXIoZT0+ZVsiaXNkb25hdGlvbiJdPT0xKTsKICAgICAgfQogICAgICBlbHNlIGlmKGV2ZW50Q2hhbmdlWzBdPT0iMSIgJiYgZXZlbnRDaGFuZ2VbMV09PSIwIikgewogICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLmZpbHRlcihlPT5lWyJpc2RvbmF0aW9uIl09PTAmJmVbImlzcmVjb25zdWx0YXRpb24iXT09MSk7CiAgICAgIH0KICAgICAgZWxzZSBpZihldmVudENoYW5nZVswXT09IjAiICYmIGV2ZW50Q2hhbmdlWzFdPT0iMCIpIHsKICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5maWx0ZXIoZT0+ZVsiaXNkb25hdGlvbiJdPT0wJiZlWyJpc3JlY29uc3VsdGF0aW9uIl09PTApOwogICAgICB9CiAgICAgIC8qIAogICAgICB0aGlzLmZpbHRlck9uID0gWydkYXRlJ107CiAgICAgIHRoaXMuZmlsdGVyID0gYC8ke2V2ZW50Q2hhbmdlLnRvU3RyaW5nKCl9L2A7ICovCiAgICB9LAogICAgb25GaWx0ZXJlZChmaWx0ZXJlZEl0ZW1zKSB7CiAgICAgIC8vIFRyaWdnZXIgcGFnaW5hdGlvbiB0byB1cGRhdGUgdGhlIG51bWJlciBvZiBidXR0b25zL3BhZ2VzIGR1ZSB0byBmaWx0ZXJpbmcKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsKICAgICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtczsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICB9LAogICAgLy8gbmV3IG1ldGhvZHMKICAgIGFzeW5jIGZldGNoRGF0YSgpIHsKICAgICAgdGhpcy5pdGVtcyA9IGF3YWl0IHJlcXVlc3RIYW5kbGVyLmFzeW5jX2ZldGNoKAogICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQkFDS0VORH0vYXBpL3YxL2NvbnN1bHRhdGlvbnMtZGF0YWAsCiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZ2V0KCkKICAgICAgKTsKICAgICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gdGhpcy5pdGVtczsKICAgICAgdGhpcy5vcmlnaW5hbEl0ZW1zID0gdGhpcy5pdGVtczsKICAgIH0sCgogICAgYXN5bmMgZG9uYXRlKGlkKSB7CiAgICAgIGNvbnN0IHJlc3BvbnNlRG9uYXRlID0gYXdhaXQgcmVxdWVzdEhhbmRsZXIuYXN5bmNfZmV0Y2goCiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9CQUNLRU5EfS9hcGkvdjEvY29uc3VsdGF0aW9ucy9pc2RvbmF0aW9uLyR7aWR9YCwKICAgICAgICByZXF1ZXN0T3B0aW9ucy5wdXQoKQogICAgICApOwogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZURvbmF0ZSk7CiAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgICB9LAogICAgYXN5bmMgdW5Eb25hdGUoaWQpIHsKICAgICAgY29uc3QgcmVzcG9uc2V1bkRvbmF0ZSA9IGF3YWl0IHJlcXVlc3RIYW5kbGVyLmFzeW5jX2ZldGNoKAogICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQkFDS0VORH0vYXBpL3YxL2NvbnN1bHRhdGlvbnMvaXNub3Rkb25hdGlvbi8ke2lkfWAsCiAgICAgICAgcmVxdWVzdE9wdGlvbnMucHV0KCkKICAgICAgKTsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2V1bkRvbmF0ZSk7CiAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgICB9LAogICAgLyogZXhwb3J0RXhjZWwoKSB7CiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgIGEuc3R5bGUgPSAiZGlzcGxheTogbm9uZSI7CgogICAgICB2YXIgd2IgPSBYTFNYLnV0aWxzLmJvb2tfbmV3KCk7CiAgICAgIAogICAgICB3Yi5Qcm9wcyA9IHsKICAgICAgICBUaXRsZTogIkxpYnJvIERlIEJhbmNvcyIsCiAgICAgICAgU3ViamVjdDogIkV4cG9ydGFkbyBkZSBkYXRvcyIsCiAgICAgICAgQXV0aG9yOiAiRnVuZGFjacOzbiBBUEEiLAogICAgICAgIENyZWF0ZWREYXRlOiBuZXcgRGF0ZSgpLAogICAgICB9OwogICAgICB3Yi5TaGVldE5hbWVzLnB1c2goIkxpYnJvIik7CiAgICAgIAogICAgICB2YXIgd3MgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQodGhpcy5maWx0ZXJlZEl0ZW1zLHtvcmlnaW46IHsgcjogNCwgYzogMCB9fSk7CiAgICAgIC8vd3NbJ0ExJ10ucyA9IHt9OwogICAgICB3Yi5TaGVldHNbIkxpYnJvIl0gPSB3czsKICAgICAgd2IuUHJvcHMKICAgICAgCiAgICAgIHZhciB3Ym91dCA9IFhMU1gud3JpdGUod2IsIHsgYm9va1R5cGU6ICJ4bHN4IiwgdHlwZTogImJpbmFyeSIgfSk7CgogICAgICBmdW5jdGlvbiBzMmFiKHMpIHsKICAgICAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKHMubGVuZ3RoKTsgLy9jb252ZXJ0IHMgdG8gYXJyYXlCdWZmZXIKICAgICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zik7IC8vY3JlYXRlIHVpbnQ4YXJyYXkgYXMgdmlld2VyCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB2aWV3W2ldID0gcy5jaGFyQ29kZUF0KGkpICYgMHhmZjsgLy9jb252ZXJ0IHRvIG9jdGV0CiAgICAgICAgcmV0dXJuIGJ1ZjsKICAgICAgfQoKICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtzMmFiKHdib3V0KV0sIHsKICAgICAgICB0eXBlOiAiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIiwKICAgICAgfSk7CiAgICAgIHRoaXMuZmlsZUNTVkJsb2IgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgYS5ocmVmID0gdGhpcy5maWxlQ1NWQmxvYjsKICAgICAgYS5kb3dubG9hZCA9IGBMaWJyb0RlQmFuY29zLnhsc3hgOwogICAgICBhLmNsaWNrKCk7CiAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuZmlsZUNTVkJsb2IpOwogICAgfSwgKi8KICAgIGFzeW5jIGV4cG9ydEV4Y2VsKCkgewogICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICBhLnN0eWxlID0gImRpc3BsYXk6IG5vbmUiOwoKICAgICAgY29uc3Qgd2JvdXQgPSBhd2FpdCB0aGlzLnBvc3RDaGVja0V4Y2VsKHRoaXMuZmlsdGVyZWRJdGVtcyk7CiAgICAgIGNvbnNvbGUubG9nKHdib3V0KTsKCiAgICAgIGZ1bmN0aW9uIHMyYWIocykgewogICAgICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIocy5sZW5ndGgpOyAvL2NvbnZlcnQgcyB0byBhcnJheUJ1ZmZlcgogICAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTsgLy9jcmVhdGUgdWludDhhcnJheSBhcyB2aWV3ZXIKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHZpZXdbaV0gPSBzLmNoYXJDb2RlQXQoaSkgJiAweGZmOyAvL2NvbnZlcnQgdG8gb2N0ZXQKICAgICAgICByZXR1cm4gYnVmOwogICAgICB9CgogICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3MyYWIod2JvdXQpXSwgewogICAgICAgIHR5cGU6ICJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iLAogICAgICB9KTsKICAgICAgdGhpcy5maWxlQ1NWQmxvYiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICBhLmhyZWYgPSB0aGlzLmZpbGVDU1ZCbG9iOwoKICAgICAgYS5kb3dubG9hZCA9IGBDb25zdWx0YXMtJHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygiZXMtRVMiKX0ueGxzeGA7CiAgICAgIGEuY2xpY2soKTsKICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5maWxlQ1NWQmxvYik7CiAgICB9LAogICAgYXN5bmMgcG9zdENoZWNrRXhjZWwoaXRlbXMpIHsKICAgICAgY29uc29sZS5sb2coaXRlbXMpOwogICAgICBjb25zdCBleGNlbHN0cmluZyA9IGF3YWl0IHJlcXVlc3RIYW5kbGVyLmFzeW5jX2ZldGNoX3RleHRfcmVzcG9uc2UoCiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9CQUNLRU5EfS9hcGkvdjEvY29uc3VsdGF0aW9ucy1kYXRhL2V4Y2VsYCwKICAgICAgICByZXF1ZXN0T3B0aW9ucy5wb3N0KGl0ZW1zKQogICAgICApOwogICAgICByZXR1cm4gZXhjZWxzdHJpbmc7CiAgICB9LAogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHt9LAogIGJlZm9yZURlc3Ryb3koKSB7fSwKfTsK"},{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8LA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Table.vue","sourceRoot":"src/components/Consulta","sourcesContent":["<template>\n  <b-container fluid>\n    <!-- User Interface controls -->\n    <b-row>\n      <b-col lg=\"6\" class=\"my-1\">\n        <b-form-group\n          label=\"Ordenar\"\n          label-for=\"sort-by-select\"\n          label-cols-sm=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n          v-slot=\"{ ariaDescribedby }\"\n        >\n          <b-input-group size=\"sm\">\n            <b-form-select\n              id=\"sort-by-select\"\n              v-model=\"sortBy\"\n              :options=\"sortOptions\"\n              :aria-describedby=\"ariaDescribedby\"\n              class=\"w-75\"\n            >\n              <template #first>\n                <option value=\"\">-- ninguno --</option>\n              </template>\n            </b-form-select>\n\n            <b-form-select\n              v-model=\"sortDesc\"\n              :disabled=\"!sortBy\"\n              :aria-describedby=\"ariaDescribedby\"\n              size=\"sm\"\n              class=\"w-25\"\n            >\n              <option :value=\"false\">Asc</option>\n              <option :value=\"true\">Desc</option>\n            </b-form-select>\n          </b-input-group>\n        </b-form-group>\n      </b-col>\n\n      <b-col lg=\"6\" class=\"my-1\">\n        <b-button\n          class=\"excelbutton\"\n          @click=\"this.exportExcel\"\n          variant=\"primary \"\n          >Excel\n          <span class=\"material-icons\"> download_for_offline </span></b-button\n        >\n      </b-col>\n\n      <b-col lg=\"6\" class=\"my-1\">\n        <b-form-group\n          label=\"Filtrar\"\n          label-for=\"filter-input\"\n          label-cols-sm=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n        >\n          <b-input-group size=\"sm\">\n            <b-form-input\n              id=\"filter-input\"\n              v-model=\"filter\"\n              type=\"search\"\n              placeholder=\"Escribe para buscar\"\n            ></b-form-input>\n\n            <b-input-group-append>\n              <b-button :disabled=\"!filter\" @click=\"filter = ''\"\n                >Limpiar</b-button\n              >\n            </b-input-group-append>\n          </b-input-group>\n        </b-form-group>\n      </b-col>\n\n      <b-col lg=\"6\" class=\"my-1\">\n        <b-form-group\n          v-model=\"sortDirection\"\n          label=\"Filtrar Campos\"\n          description=\"Si no se selecciona ninguno filtra todos los datos\"\n          label-cols-sm=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n          v-slot=\"{ ariaDescribedby }\"\n        >\n          <b-form-checkbox-group\n            v-model=\"filterOn\"\n            :aria-describedby=\"ariaDescribedby\"\n            class=\"my-1\"\n          >\n            <b-form-checkbox value=\"date\">Fecha</b-form-checkbox>\n            <b-form-checkbox value=\"last_name\">Apellido</b-form-checkbox>\n            <b-form-checkbox value=\"carnet\">Carnet</b-form-checkbox>\n          </b-form-checkbox-group>\n        </b-form-group>\n      </b-col>\n      <b-col lg=\"12\" class=\"my-1\">\n        <b-form-group id=\"input-group-4\">\n          <b-form-select\n            id=\"input-4\"\n            v-model=\"selectForm4\"\n            :options=\"optionsFormSelect\"\n            required\n            @change=\"onChange($event)\"\n          ></b-form-select>\n        </b-form-group>\n      </b-col>\n      <b-col sm=\"5\" md=\"6\" class=\"my-1\">\n        <b-form-group\n          label=\"Por página\"\n          label-for=\"per-page-select\"\n          label-cols-sm=\"6\"\n          label-cols-md=\"4\"\n          label-cols-lg=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n        >\n          <b-form-select\n            id=\"per-page-select\"\n            v-model=\"perPage\"\n            :options=\"pageOptions\"\n            size=\"sm\"\n          ></b-form-select>\n        </b-form-group>\n      </b-col>\n\n      <b-col sm=\"7\" md=\"6\" class=\"my-1\">\n        <b-pagination\n          v-model=\"currentPage\"\n          :total-rows=\"totalRows\"\n          :per-page=\"perPage\"\n          align=\"fill\"\n          size=\"sm\"\n          class=\"my-0\"\n        ></b-pagination>\n      </b-col>\n    </b-row>\n\n    <!-- Main table element -->\n    <b-table\n      :items=\"items\"\n      :fields=\"fields\"\n      :current-page=\"currentPage\"\n      :per-page=\"perPage\"\n      :filter=\"filter\"\n      :filter-included-fields=\"filterOn\"\n      :sort-by.sync=\"sortBy\"\n      :sort-desc.sync=\"sortDesc\"\n      :sort-direction=\"sortDirection\"\n      stacked=\"md\"\n      striped\n      responsive=\"\"\n      show-empty\n      small\n      head-variant=\"dark\"\n      @filtered=\"onFiltered\"\n      class=\"mt-3\"\n    >\n      <template #cell(isdonation)=\"row\">\n        {{ row.value }}\n      </template>\n      <template #cell(actions)=\"row\">\n        <b-button\n          v-if=\"row.item.isdonation == '0'\"\n          size=\"sm\"\n          @click=\"donate(row.item.id)\"\n          class=\"mr-1\"\n        >\n          Donar\n        </b-button>\n        <b-button\n          v-if=\"row.item.isdonation == '1'\"\n          size=\"sm\"\n          @click=\"unDonate(row.item.id)\"\n        >\n          No Donar\n        </b-button>\n      </template>\n    </b-table>\n    <!-- <b-card class=\"mt-3\" header=\"Form Data Result\">\n      <pre class=\"m-0\">{{ filteredItems }}</pre>\n    </b-card> -->\n  </b-container>\n</template>\n\n<script>\nimport { requestHandler } from \"@/helpers/requestHandler\";\nimport { requestOptions } from \"@/helpers/requestOptions\";\n\n//import XLSX from \"xlsx\";\n\n/***\n * TODO Agregar estos campos a los reportes anteriores\n * agregar isReConsulta logica BD Back y front\n * filtros tabla consulta para visualizar los datos deseados\n * exportar excel consulta\n * exportar excel pacientes\n */\n\nexport default {\n  data() {\n    return {\n      items: [],\n      fields: [\n        {\n          key: \"carnet\",\n          sortable: true,\n          label: \"Carnet\",\n        },\n        {\n          key: \"first_name\",\n          sortable: true,\n          label: \"Nombre\",\n        },\n        {\n          key: \"last_name\",\n          sortable: true,\n          label: \"Apellido\",\n        },\n        {\n          key: \"date\",\n          sortable: true,\n          label: \"Fecha\",\n        },\n        {\n          key: \"type\",\n          sortable: true,\n          label: \"Tipo Clínica\",\n        },\n        {\n          key: \"isreconsultation\",\n          sortable: true,\n          label: \"Tipo\",\n          formatter: (value) => {\n            return value == 0 ? \"Consulta\" : \"Re Consulta\";\n          },\n        },\n        {\n          key: \"isdonation\",\n          sortable: true,\n          label: \"Es Donación\",\n          formatter: (value) => {\n            return value == 0 ? \"No\" : \"Sí\";\n          },\n        },\n\n        { key: \"actions\", label: \"Acciones\" },\n      ],\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 5,\n      pageOptions: [5, 10, 15, { value: 100, text: \"Mostrar Muchos\" }],\n      sortBy: \"date\",\n      sortDesc: true,\n      sortDirection: \"asc\",\n      filter: null,\n      filterOn: [],\n      filteredItems: [],\n      optionsFormSelect: [\n        { value: null, disabled: true, text: \"filtrar por tipo de consulta\" },\n        { value: [\"0\",\"0\"], text: \"Consulta\" },\n        { value: [\"1\",\"0\"], text: \"Re Consulta\" },\n        { value: [\"1\",\"1\"], text: \"Consultas Donadas\" }\n      ],\n      selectForm4:null,\n      originalItems:[]\n    };\n  },\n  computed: {\n    sortOptions() {\n      // Create an options list from our fields\n      return this.fields\n        .filter((f) => f.sortable)\n        .map((f) => {\n          return { text: f.label, value: f.key };\n        });\n    },\n  },\n  async mounted() {\n    // Set the initial number of items\n    await this.fetchData();\n    this.totalRows = this.items.length;\n    this.filteredItems = this.items;\n  },\n  async beforeCreate() {},\n  methods: {\n    resetInfoModal() {\n      this.infoModal.title = \"\";\n      this.infoModal.content = \"\";\n    },\n    onChange(eventChange){\n      this.items = this.originalItems;\n      console.log(eventChange);\n      if(eventChange[0]==\"1\" && eventChange[1]==\"1\"){\n        this.items = this.items.filter(e=>e[\"isdonation\"]==1);\n      }\n      else if(eventChange[0]==\"1\" && eventChange[1]==\"0\") {\n        this.items = this.items.filter(e=>e[\"isdonation\"]==0&&e[\"isreconsultation\"]==1);\n      }\n      else if(eventChange[0]==\"0\" && eventChange[1]==\"0\") {\n        this.items = this.items.filter(e=>e[\"isdonation\"]==0&&e[\"isreconsultation\"]==0);\n      }\n      /* \n      this.filterOn = ['date'];\n      this.filter = `/${eventChange.toString()}/`; */\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.filteredItems = filteredItems;\n      this.currentPage = 1;\n    },\n    // new methods\n    async fetchData() {\n      this.items = await requestHandler.async_fetch(\n        `${process.env.VUE_APP_BACKEND}/api/v1/consultations-data`,\n        requestOptions.get()\n      );\n      this.filteredItems = this.items;\n      this.originalItems = this.items;\n    },\n\n    async donate(id) {\n      const responseDonate = await requestHandler.async_fetch(\n        `${process.env.VUE_APP_BACKEND}/api/v1/consultations/isdonation/${id}`,\n        requestOptions.put()\n      );\n      console.log(responseDonate);\n      this.fetchData();\n    },\n    async unDonate(id) {\n      const responseunDonate = await requestHandler.async_fetch(\n        `${process.env.VUE_APP_BACKEND}/api/v1/consultations/isnotdonation/${id}`,\n        requestOptions.put()\n      );\n      console.log(responseunDonate);\n      this.fetchData();\n    },\n    /* exportExcel() {\n      const a = document.createElement(\"a\");\n      document.body.appendChild(a);\n      a.style = \"display: none\";\n\n      var wb = XLSX.utils.book_new();\n      \n      wb.Props = {\n        Title: \"Libro De Bancos\",\n        Subject: \"Exportado de datos\",\n        Author: \"Fundación APA\",\n        CreatedDate: new Date(),\n      };\n      wb.SheetNames.push(\"Libro\");\n      \n      var ws = XLSX.utils.json_to_sheet(this.filteredItems,{origin: { r: 4, c: 0 }});\n      //ws['A1'].s = {};\n      wb.Sheets[\"Libro\"] = ws;\n      wb.Props\n      \n      var wbout = XLSX.write(wb, { bookType: \"xlsx\", type: \"binary\" });\n\n      function s2ab(s) {\n        var buf = new ArrayBuffer(s.length); //convert s to arrayBuffer\n        var view = new Uint8Array(buf); //create uint8array as viewer\n        for (var i = 0; i < s.length; i++) view[i] = s.charCodeAt(i) & 0xff; //convert to octet\n        return buf;\n      }\n\n      const blob = new Blob([s2ab(wbout)], {\n        type: \"application/octet-stream\",\n      });\n      this.fileCSVBlob = window.URL.createObjectURL(blob);\n      a.href = this.fileCSVBlob;\n      a.download = `LibroDeBancos.xlsx`;\n      a.click();\n      window.URL.revokeObjectURL(this.fileCSVBlob);\n    }, */\n    async exportExcel() {\n      const a = document.createElement(\"a\");\n      document.body.appendChild(a);\n      a.style = \"display: none\";\n\n      const wbout = await this.postCheckExcel(this.filteredItems);\n      console.log(wbout);\n\n      function s2ab(s) {\n        var buf = new ArrayBuffer(s.length); //convert s to arrayBuffer\n        var view = new Uint8Array(buf); //create uint8array as viewer\n        for (var i = 0; i < s.length; i++) view[i] = s.charCodeAt(i) & 0xff; //convert to octet\n        return buf;\n      }\n\n      const blob = new Blob([s2ab(wbout)], {\n        type: \"application/octet-stream\",\n      });\n      this.fileCSVBlob = window.URL.createObjectURL(blob);\n      a.href = this.fileCSVBlob;\n\n      a.download = `Consultas-${new Date().toLocaleDateString(\"es-ES\")}.xlsx`;\n      a.click();\n      window.URL.revokeObjectURL(this.fileCSVBlob);\n    },\n    async postCheckExcel(items) {\n      console.log(items);\n      const excelstring = await requestHandler.async_fetch_text_response(\n        `${process.env.VUE_APP_BACKEND}/api/v1/consultations-data/excel`,\n        requestOptions.post(items)\n      );\n      return excelstring;\n    },\n  },\n  async created() {},\n  beforeDestroy() {},\n};\n</script>"]}]}