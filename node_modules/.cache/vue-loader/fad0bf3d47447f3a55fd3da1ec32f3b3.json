{"remainingRequest":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/src/components/CargaMasivaExcel/CargaExcel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/src/components/CargaMasivaExcel/CargaExcel.vue","mtime":1682135281946},{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diegogualim/Documents/PROYECTOS_GRADUACION/PROYECTO_OTTO/proyecto_frond/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZWFkWGxzRmlsZSBmcm9tICdyZWFkLWV4Y2VsLWZpbGUnCmltcG9ydCB7IHJlcXVlc3RIYW5kbGVyIH0gZnJvbSAnQC9oZWxwZXJzL3JlcXVlc3RIYW5kbGVyJwppbXBvcnQgeyByZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ0AvaGVscGVycy9yZXF1ZXN0T3B0aW9ucycKLy9pbXBvcnQgRXZlbnRCdXMgZnJvbSAnQC9idXMnCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgaXRlbXM6IFtdLAogICAgICAgIGZpZWxkczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBrZXk6ICcwJywKICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgbGFiZWw6ICdOby5FeHAnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJzEnLAogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgICAgICBsYWJlbDogJ05vbWJyZXMnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJzInLAogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgICAgICBsYWJlbDogJ0FwZWxsaWRvcycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAnMycsCiAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGxhYmVsOiAnRWRhZCcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAnNCcsCiAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGxhYmVsOiAnVGVtcGVyYXR1cmEnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJzUnLAogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgICAgICBsYWJlbDogJ0RpcmVjY2nDs24nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJzYnLAogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgICAgICBsYWJlbDogJ0NlbHVsYXInCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJzcnLAogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgICAgICBsYWJlbDogJ1RlbMOpZm9ubyBkZSBjYXNhJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBrZXk6ICc4JywKICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgbGFiZWw6ICdGZWNoYScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAnOScsCiAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGxhYmVsOiAnQ2FybmV0JwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBrZXk6ICcxMCcsCiAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGxhYmVsOiAnVGlwbyBDbGluaWNhJwogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICB0b3RhbFJvd3M6IDIsCiAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgcGVyUGFnZTogNSwKICAgICAgICBwYWdlT3B0aW9uczogWzUsIDEwLCAxNSwgeyB2YWx1ZTogMTAwLCB0ZXh0OiAnTW9zdHJhciBtdWNob3MnIH1dLAogICAgICAgIHNvcnRCeTogJ0V4cGVkaWVudGUnLAogICAgICAgIHNvcnREZXNjOiB0cnVlLAogICAgICAgIHNvcnREaXJlY3Rpb246ICdhc2MnLAogICAgICAgIGZpbHRlcjogbnVsbCwKICAgICAgICBmaWx0ZXJPbjogW10sCiAgICAgICAgZmlsdGVyZWRJdGVtczogW10KICAgIH0pLAogICAgbWV0aG9kczogewogICAgICAgIHN1YmlyRXhjZWwoKSB7CiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FyY2hpdm9FeGNlbCcpCiAgICAgICAgICAgIHJlYWRYbHNGaWxlKGlucHV0LmZpbGVzWzBdKS50aGVuKChyb3dzKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gcm93cwogICAgICAgICAgICAgICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLml0ZW1zLmxlbmd0aAogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtcykKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIHN1Ym1pdCgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0RXZlbnQgU3VibWl0JykKICAgICAgICAgICAgLy9NRVRPRE8gUE9TVCAtLUlOU0VSVCBEQVRBCiAgICAgICAgICAgIGNvbnN0IHJlY29uc3VsdGF0aW9uID0gYXdhaXQgcmVxdWVzdEhhbmRsZXIKICAgICAgICAgICAgICAgIC5hc3luY19mZXRjaCgKICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0JBQ0tFTkR9L2FwaS92MS9vbGRjb25zdWx0YXRpb24vY2FyZ2FleGNlbGAsCiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucG9zdCh0aGlzLml0ZW1zKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KCkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlY29uc3VsdGF0aW9uKQogICAgICAgICAgICAvL0ZJTiBNRVRPRE8gUE9TVAogICAgICAgIH0sCiAgICAgICAgcmVsb2FkUGFnZSgpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgfSwKICAgICAgICBzaG93VG9hc3QoKSB7CiAgICAgICAgICAgIC8vIFVzZSBhIHNob3J0ZXIgbmFtZSBmb3IgdGhpcy4kY3JlYXRlRWxlbWVudAogICAgICAgICAgICBjb25zdCBoID0gdGhpcy4kY3JlYXRlRWxlbWVudAogICAgICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHRvYXN0IGNvdW50CiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgbWVzc2FnZQogICAgICAgICAgICBjb25zdCB2Tm9kZXNNc2cgPSBoKCdwJywgeyBjbGFzczogWyd0ZXh0LWNlbnRlcicsICdtYi0wJ10gfSwgWwogICAgICAgICAgICAgICAgaCgnc3Ryb25nJywgJ0NhcmdhIEV4aXRvc2EnKQogICAgICAgICAgICBdKQogICAgICAgICAgICAvLyBQYXNzIHRoZSBWTm9kZXMgYXMgYW4gYXJyYXkgZm9yIG1lc3NhZ2UgYW5kIHRpdGxlCiAgICAgICAgICAgIHRoaXMuJGJ2VG9hc3QudG9hc3QoW3ZOb2Rlc01zZ10sIHsKICAgICAgICAgICAgICAgIHNvbGlkOiB0cnVlLAogICAgICAgICAgICAgICAgdmFyaWFudDogJ2luZm8nLAogICAgICAgICAgICAgICAgdG9hc3RlcjogJ2ItdG9hc3Rlci10b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgbm9DbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["CargaExcel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CargaExcel.vue","sourceRoot":"src/components/CargaMasivaExcel","sourcesContent":["<template>\n    <div>\n        <div align=\"left\">\n            <h5>Para realizar la carga masiva de datos siga las siguientes intrucciones:</h5>\n            <p>1. Subir el archivo de excel deseado.</p>\n            <p>2. Darle clic al boton con el texto <b>Cargar Excel</b>.</p>\n            <p>3. Para finalizar y hacer una nueva carga darle clic al boton <b>Nueva Carga</b>.</p>\n        </div>\n\n        <!--  <h1>Carga Masiva Expedientes Viejos</h1>\n        <input id=\"archivoExcel\" type=\"file\" @change=\"subirExcel()\" /> -->\n        <b-row>\n            <b-col sm=\"10\" md=\"12\" class=\"my-1\">\n                <p>Paso 1</p>\n                <input id=\"archivoExcel\" type=\"file\" @change=\"subirExcel()\" />\n                <br />\n                <br />\n            </b-col>\n            <b-col sm=\"5\" md=\"6\" class=\"my-1\">\n                <div class=\"mt-3\">\n                    <b-button\n                        type=\"submit\"\n                        @click=\"submit\"\n                        variant=\"primary bg-success\"\n                        class=\"mt-4\"\n                        style=\"min-width: 14rem\"\n                        >Cargar Excel</b-button\n                    >\n                </div>\n            </b-col>\n            <b-col sm=\"7\" md=\"6\" class=\"my-1\">\n                <div class=\"mt-3\">\n                    <b-button\n                        @click=\"reloadPage\"\n                        variant=\"primary bg-success\"\n                        class=\"mt-4\"\n                        style=\"min-width: 14rem\"\n                        >Nueva Carga</b-button\n                    >\n                </div>\n            </b-col>\n        </b-row>\n        <b-row>\n            <b-col sm=\"5\" md=\"6\" class=\"my-1\">\n                <p>Paso 2</p>\n                <b-form-group\n                    label=\"Por pÃ¡gina\"\n                    label-for=\"per-page-select\"\n                    label-cols-sm=\"6\"\n                    label-cols-md=\"4\"\n                    label-cols-lg=\"3\"\n                    label-align-sm=\"right\"\n                    label-size=\"sm\"\n                    class=\"mb-0\"\n                >\n                    <b-form-select\n                        id=\"per-page-select\"\n                        v-model=\"perPage\"\n                        :options=\"pageOptions\"\n                        size=\"sm\"\n                    ></b-form-select>\n                </b-form-group>\n            </b-col>\n\n            <b-col sm=\"7\" md=\"6\" class=\"my-1\">\n                <p>Paso 3</p>\n                <b-pagination\n                    v-model=\"currentPage\"\n                    :total-rows=\"totalRows\"\n                    :per-page=\"perPage\"\n                    align=\"fill\"\n                    size=\"sm\"\n                    class=\"my-0\"\n                ></b-pagination>\n            </b-col>\n        </b-row>\n\n        <!-- Main table element -->\n        <b-table\n            :items=\"items\"\n            :fields=\"fields\"\n            :current-page=\"currentPage\"\n            :per-page=\"perPage\"\n            :filter=\"filter\"\n            :filter-included-fields=\"filterOn\"\n            :sort-by.sync=\"sortBy\"\n            :sort-desc.sync=\"sortDesc\"\n            :sort-direction=\"sortDirection\"\n            stacked=\"md\"\n            striped\n            responsive=\"\"\n            show-empty\n            small\n            head-variant=\"dark\"\n            class=\"mt-3\"\n        >\n        </b-table>\n\n        <!-- End table element -->\n    </div>\n</template>\n\n<script>\nimport readXlsFile from 'read-excel-file'\nimport { requestHandler } from '@/helpers/requestHandler'\nimport { requestOptions } from '@/helpers/requestOptions'\n//import EventBus from '@/bus'\nexport default {\n    data: () => ({\n        items: [],\n        fields: [\n            {\n                key: '0',\n                sortable: true,\n                label: 'No.Exp'\n            },\n            {\n                key: '1',\n                sortable: true,\n                label: 'Nombres'\n            },\n            {\n                key: '2',\n                sortable: true,\n                label: 'Apellidos'\n            },\n            {\n                key: '3',\n                sortable: true,\n                label: 'Edad'\n            },\n            {\n                key: '4',\n                sortable: true,\n                label: 'Temperatura'\n            },\n            {\n                key: '5',\n                sortable: true,\n                label: 'DirecciÃ³n'\n            },\n            {\n                key: '6',\n                sortable: true,\n                label: 'Celular'\n            },\n            {\n                key: '7',\n                sortable: true,\n                label: 'TelÃ©fono de casa'\n            },\n            {\n                key: '8',\n                sortable: true,\n                label: 'Fecha'\n            },\n            {\n                key: '9',\n                sortable: true,\n                label: 'Carnet'\n            },\n            {\n                key: '10',\n                sortable: true,\n                label: 'Tipo Clinica'\n            }\n        ],\n        totalRows: 2,\n        currentPage: 1,\n        perPage: 5,\n        pageOptions: [5, 10, 15, { value: 100, text: 'Mostrar muchos' }],\n        sortBy: 'Expediente',\n        sortDesc: true,\n        sortDirection: 'asc',\n        filter: null,\n        filterOn: [],\n        filteredItems: []\n    }),\n    methods: {\n        subirExcel() {\n            const input = document.getElementById('archivoExcel')\n            readXlsFile(input.files[0]).then((rows) => {\n                this.items = rows\n                this.totalRows = this.items.length\n                console.log(this.items)\n            })\n        },\n        async submit() {\n            console.log('startEvent Submit')\n            //METODO POST --INSERT DATA\n            const reconsultation = await requestHandler\n                .async_fetch(\n                    `${process.env.VUE_APP_BACKEND}/api/v1/oldconsultation/cargaexcel`,\n                    requestOptions.post(this.items)\n                )\n                .then(() => {\n                    this.showToast()\n                })\n            console.log(reconsultation)\n            //FIN METODO POST\n        },\n        reloadPage() {\n            window.location.reload()\n        },\n        showToast() {\n            // Use a shorter name for this.$createElement\n            const h = this.$createElement\n            // Increment the toast count\n            // Create the message\n            const vNodesMsg = h('p', { class: ['text-center', 'mb-0'] }, [\n                h('strong', 'Carga Exitosa')\n            ])\n            // Pass the VNodes as an array for message and title\n            this.$bvToast.toast([vNodesMsg], {\n                solid: true,\n                variant: 'info',\n                toaster: 'b-toaster-top-right',\n                noCloseButton: true\n            })\n        }\n    }\n}\n</script>\n"]}]}